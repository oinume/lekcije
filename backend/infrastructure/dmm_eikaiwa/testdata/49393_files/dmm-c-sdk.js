!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dmmCsdk=t():e.dmmCsdk=t()}(self,(()=>(()=>{var e={200:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HandlerType:()=>Se,Logger:()=>xe,StatusType:()=>Te,datadogLogs:()=>Tt});var r={log:console.log.bind(console),warn:console.warn.bind(console),error:console.error.bind(console)},o="?";function i(e){var t=[],n=d(e,"stack");return n&&n.split("\n").forEach((function(e){var n=function(e){var t=a.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=s.exec(t[2]);return r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||o,line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=c.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||o,line:+t[3],url:t[2]}}(e)||function(e){var t=u.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,r=l.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||o,line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func=o),t.push(n))})),{message:d(e,"message"),name:d(e,"name"),stack:t}}var a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function d(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var f=1e3;function p(e,t,n){var r,o,i=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],c=0;c<arguments.length;c++)n[c]=arguments[c];s?r=n:(i?e.apply(void 0,n):r=n,s=!0,o=setTimeout((function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0}),t))},cancel:function(){clearTimeout(o),s=!1,r=void 0}}}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})),e}function v(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,v)}function m(e){return 0!==e&&100*Math.random()<=e}function y(){}function g(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];b(e)&&(r=[!0,e.toJSON],delete e.toJSON);var o,i,a=[!1,void 0];"object"==typeof e&&b(o=Object.getPrototypeOf(e))&&(a=[!0,o.toJSON],delete o.toJSON);try{i=JSON.stringify(e,t,n)}catch(e){i="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),a[0]&&(o.toJSON=a[1])}return i}function b(e){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,"toJSON")}function _(e,t){return-1!==e.indexOf(t)}function w(e){return function(e){return"number"==typeof e}(e)&&e>=0&&e<=100}function E(e){return Object.keys(e).map((function(t){return e[t]}))}function A(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}function O(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),o=r>=55296&&r<=56319?t+1:t;return e.length<=o?e:"".concat(e.slice(0,o)).concat(n)}function k(e,t,n,r){return T(e,[t],n,r)}function T(e,t,n,r){var o=void 0===r?{}:r,i=o.once,a=o.capture,s=o.passive,c=q(i?function(e){l(),n(e)}:n),u=s?{capture:a,passive:s}:a;t.forEach((function(t){return e.addEventListener(t,c,u)}));var l=function(){return t.forEach((function(t){return e.removeEventListener(t,c,u)}))};return{stop:l}}function S(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var o=Array.isArray(e)?e:[],i=0;i<t.length;++i)o[i]=S(o[i],t[i],n);return o}var a,s="object"==(null===(a=e)?"null":Array.isArray(a)?"array":typeof a)?e:{};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(s[c]=S(s[c],t[c],n));return s}}function x(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,o=t;r<o.length;r++){var i=o[r];null!=i&&(e=S(e,i))}return e}var C="console",L="logger",P="network",D="report";function I(e){var t=R(e);return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",o=e.line?":".concat(e.line):"",i=e.line&&e.column?":".concat(e.column):"";t+="\n  at ".concat(n).concat(r," @ ").concat(e.url).concat(o).concat(i)})),t}function R(e){return"".concat(e.name||"Error",": ").concat(e.message)}function B(){var e,t=new Error;if(!t.stack)try{throw t}catch(e){}return $((function(){var n=i(t);n.stack=n.stack.slice(2),e=I(n)})),e}var F,M,j=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){t.observers=t.observers.filter((function(t){return e!==t})),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=new j((function(){var t=e.map((function(e){return e.subscribe((function(e){return n.notify(e)}))}));return function(){return t.forEach((function(e){return e.unsubscribe()}))}}));return n}function H(){return Date.now()}function z(){return performance.now()}function U(){return{relative:z(),timeStamp:H()}}function Y(e,t){return t-e}function W(){return void 0===F&&(F=performance.timing.navigationStart),F}var V,K={maxMessagesPerPage:0,sentMessageCount:0,telemetryEnabled:!1};function G(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=V?q(r):r;return n.apply(this,e)}}function q(e){return function(){return $(e,this,arguments)}}function $(e,t,n){try{return e.apply(t,n)}catch(e){Q(e);try{J(e)}catch(e){Q(e)}}}function J(e){X(h({status:"error"},function(e){if(e instanceof Error){var t=i(e);return{error:{kind:t.name,stack:I(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(g(e))}}(e)))}function X(e){V&&K.sentMessageCount<K.maxMessagesPerPage&&(K.sentMessageCount+=1,V(e))}function Z(e){K.debugMode=e}function Q(e){K.debugMode&&r.error("[INTERNAL ERROR]",e)}function ee(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{return e.apply(void 0,n)}catch(e){r.error(t,e)}}}function te(){var e={};return{get:function(){return e},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},set:function(t){e=t}}}var ne,re,oe=function(){function e(){this.buffer=[]}return e.prototype.add=function(e){this.buffer.push(e)>500&&this.buffer.splice(0,1)},e.prototype.drain=function(){this.buffer.forEach((function(e){return e()})),this.buffer.length=0},e}();function ie(){var e=A().DatadogEventBridge;if(e)return{getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n){e.send(JSON.stringify({eventType:t,event:n}))}}}function ae(e){var t;void 0===e&&(e=null===(t=A().location)||void 0===t?void 0:t.hostname);var n=ie();return!!n&&n.getAllowedWebViewHosts().some((function(t){var n=t.replace(/\./g,"\\.");return new RegExp("^(.+\\.)*".concat(n,"$")).test(e)}))}function se(e,t,n,r){var o=new Date;o.setTime(o.getTime()+n);var i="expires=".concat(o.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",c=r&&r.secure?";secure":"";document.cookie="".concat(e,"=").concat(t,";").concat(i,";path=/;samesite=").concat(a).concat(s).concat(c)}function ce(e){return function(e,t){var n=new RegExp("(?:^|;)\\s*".concat(t,"\\s*=\\s*([^;]+)")).exec(e);return n?n[1]:void 0}(document.cookie,e)}function ue(e,t){se(e,"",0,t)}function le(e){return function(e,t){if(function(){if(void 0!==re)return re;try{var e=new URL("http://test/path");return re="http://test/path"===e.href}catch(e){re=!1}return re}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var n=document,r=n.createElement("a");if(void 0!==t){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,n.head.appendChild(o),n.body.appendChild(r)}return r.href=e,r}(e,function(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return"".concat(e.protocol,"//").concat(t)}(window.location)).href}var de={logs:"logs",rum:"rum",sessionReplay:"session-replay"},fe={logs:"logs",rum:"rum",sessionReplay:"replay"},pe="datadoghq.com";function he(e,t,n,r){var o=e.site,i=void 0===o?pe:o,a=e.clientToken,s=i.split("."),c=s.pop(),u="".concat(de[t],".browser-intake-").concat(s.join("-"),".").concat(c),l="https://".concat(u,"/api/v2/").concat(fe[t]),d=e.proxyUrl&&le(e.proxyUrl);return{build:function(){var e="ddsource=".concat(r||"browser")+"&ddtags=".concat(encodeURIComponent(["sdk_version:".concat("4.8.1")].concat(n).join(",")))+"&dd-api-key=".concat(a)+"&dd-evp-origin-version=".concat(encodeURIComponent("4.8.1"))+"&dd-evp-origin=browser"+"&dd-request-id=".concat(v());"rum"===t&&(e+="&batch_time=".concat(H()));var o="".concat(l,"?").concat(e);return d?"".concat(d,"?ddforward=").concat(encodeURIComponent(o)):o},buildIntakeUrl:function(){return d?"".concat(d,"?ddforward"):l}}}var ve=/[^a-z0-9_:./-]/;function me(e,t){var n=200-e.length-1;(t.length>n||ve.test(t))&&r.warn("".concat(e," value doesn't meet tag requirements and will be sanitized"));var o=t.replace(/,/g,"_");return"".concat(e,":").concat(o)}function ye(e){var t,n;if(e&&e.clientToken)if(void 0===e.sampleRate||w(e.sampleRate)){var o;if(void 0===e.telemetrySampleRate||w(e.telemetrySampleRate))return o=e.enableExperimentalFeatures,Array.isArray(o)&&(M||(M=new Set(o)),o.filter((function(e){return"string"==typeof e})).forEach((function(e){M.add(e)}))),h({beforeSend:e.beforeSend&&ee(e.beforeSend,"beforeSend threw an error:"),cookieOptions:ge(e),sampleRate:null!==(t=e.sampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,service:e.service,silentMultipleInit:!!e.silentMultipleInit,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxInternalMonitoringMessagesPerPage:15,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144},function(e){var t=function(e){var t=e.env,n=e.service,r=e.version,o=e.datacenter,i=[];return t&&i.push(me("env",t)),n&&i.push(me("service",n)),r&&i.push(me("version",r)),o&&i.push(me("datacenter",o)),i}(e),n=function(e,t){var n={logsEndpointBuilder:he(e,"logs",t),rumEndpointBuilder:he(e,"rum",t),sessionReplayEndpointBuilder:he(e,"sessionReplay",t)};return e.internalMonitoringApiKey?h(n,{internalMonitoringEndpointBuilder:he(h({},e,{clientToken:e.internalMonitoringApiKey}),"logs",t,"browser-agent-internal-monitoring")}):n}(e,t),r=E(n).map((function(e){return e.buildIntakeUrl()})),o=function(e,t,n){if(e.replica){var r=h({},e,{site:pe,clientToken:e.replica.clientToken}),o={logsEndpointBuilder:he(r,"logs",n),rumEndpointBuilder:he(r,"rum",n),internalMonitoringEndpointBuilder:he(r,"logs",n,"browser-agent-internal-monitoring")};return t.push.apply(t,E(o).map((function(e){return e.buildIntakeUrl()}))),h({applicationId:e.replica.applicationId},o)}}(e,r,t);return h({isIntakeUrl:function(e){return r.some((function(t){return 0===e.indexOf(t)}))},replica:o},n)}(e));r.error("Telemetry Sample Rate should be a number between 0 and 100")}else r.error("Sample Rate should be a number between 0 and 100");else r.error("Client Token is not configured, we will not send any data.")}function ge(e){var t={};return t.secure=function(e){return!!e.useSecureSessionCookie||!!e.useCrossSiteSessionCookie}(e),t.crossSite=!!e.useCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=function(){if(void 0===ne){for(var e="dd_site_test_".concat(v()),t=window.location.hostname.split("."),n=t.pop();t.length&&!ce(e);)se(e,"test",1e3,{domain:n="".concat(t.pop(),".").concat(n)});ue(e,{domain:n}),ne=n}return ne}()),t}var be={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},_e={};function we(e,t,n){var r,o=e.map((function(e){return function(e){return"string"==typeof e?e:e instanceof Error?R(i(e)):g(e,void 0,2)}(e)})).join(" ");if(t===be.error){var a=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(r instanceof Error)return r}}(e);r=a?I(i(a)):void 0,o="console error: ".concat(o)}return{api:t,message:o,stack:r,handlingStack:n}}var Ee={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Ae(e,t,n,r,o){return n&&I({name:e,message:t,stack:[{func:"?",url:n,line:r,column:o}]})}function Oe(e,t,n){return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every((function(e){return _(t,e)}))?"all"===e?t:(o=e,i=[],a=new Set,o.forEach((function(e){return a.add(e)})),a.forEach((function(e){return i.push(e)})),i):void r.error("".concat(n,' should be "all" or an array with allowed values "').concat(t.join('", "'),'"'));var o,i,a}var ke,Te={debug:"debug",error:"error",info:"info",warn:"warn"},Se={console:"console",http:"http",silent:"silent"},xe=(Object.keys(Te),function(){function e(e){this.sender=e}return e.prototype.log=function(e,t,n){void 0===n&&(n=Te.info),this.sender.sendLog(e,x({origin:L},t),n)},e.prototype.debug=function(e,t){this.log(e,t,Te.debug)},e.prototype.info=function(e,t){this.log(e,t,Te.info)},e.prototype.warn=function(e,t){this.log(e,t,Te.warn)},e.prototype.error=function(e,t){var n={error:{origin:L}};this.log(e,x(n,t),Te.error)},e.prototype.setContext=function(e){this.sender.getContextManager().set(e)},e.prototype.addContext=function(e,t){this.sender.getContextManager().add(e,t)},e.prototype.removeContext=function(e){this.sender.getContextManager().remove(e)},e.prototype.setHandler=function(e){this.sender.setHandler(e)},e.prototype.setLevel=function(e){this.sender.setLevel(e)},function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);i>3&&a&&Object.defineProperty(t,n,a)}([G],e.prototype,"log",null),e}()),Ce=((ke={})[Te.debug]=0,ke[Te.info]=1,ke[Te.warn]=2,ke[Te.error]=3,ke);function Le(e,t,n,o){void 0===t&&(t=Se.http),void 0===n&&(n=Te.debug),void 0===o&&(o={});var i={level:n,handlerType:t},a=te();function s(e,t){var n=Array.isArray(i.handlerType)?i.handlerType:[i.handlerType];return Ce[e]>=Ce[i.level]&&_(n,t)}function c(t,n,r){s(r,Se.http)&&e(x({message:t,status:r},a.get(),n))}return a.set(o),{getContextManager:function(){return a},setLevel:function(e){i.level=e},setHandler:function(e){i.handlerType=e},sendToHttp:c,sendLog:function(e,t,n){void 0===n&&(n=Te.info),c(e,t,n),function(e,t,n){s(n,Se.console)&&r.log("".concat(n,": ").concat(e),x(a.get(),t))}(e,t,n)}}}var Pe=/[^\u0000-\u007F]/,De=function(){function e(e,t,n,r,o,i){void 0===i&&(i=y),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=o,this.beforeUnloadCallback=i,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(e){if(0!==this.bufferMessageCount){var t=this.pushOnlyBuffer.concat(E(this.upsertBuffer));this.request.send(t.join("\n"),this.bufferBytesSize,e),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}},e.prototype.sizeInBytes=function(e){return Pe.test(e)?void 0!==window.TextEncoder?(new TextEncoder).encode(e).length:new Blob([e]).size:e.length},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),o=n.processedMessage,i=n.messageBytesSize;i>=this.maxMessageSize?r.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.maxMessageSize,"KB.")):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush("willReachedBytesLimitWith"),this.push(o,i,t),this.isFull()&&this.flush("isFull"))},e.prototype.process=function(e){var t=g(e);return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.flushPeriodically=function(){var e=this;setTimeout(q((function(){e.flush("flushPeriodically"),e.flushPeriodically()})),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(k(window,"beforeunload",this.beforeUnloadCallback),k(document,"visibilitychange",(function(){"hidden"===document.visibilityState&&e.flush("visibilitychange")})),k(window,"beforeunload",(function(){return e.flush("beforeunload")})))},e}(),Ie=!1,Re=function(){function e(e,t){this.endpointBuilder=e,this.bytesLimit=t}return e.prototype.send=function(e,t,n){var o=this.endpointBuilder.build(),i=!!navigator.sendBeacon&&t<this.bytesLimit;if(i)try{if(navigator.sendBeacon(o,e))return}catch(e){!function(e){Be||(Be=!0,J(e))}(e)}var a=new XMLHttpRequest;a.addEventListener("loadend",q((function(e){return function(e){var a,s,c=null==e?void 0:e.currentTarget;c.status>=200&&c.status<300||Ie||(Ie=!0,a="XHR fallback failed",s={on_line:navigator.onLine,size:t,url:o,try_beacon:i,flush_reason:n,event:{is_trusted:e.isTrusted,total:e.total,loaded:e.loaded},request:{status:c.status,ready_state:c.readyState,response_text:c.responseText.slice(0,512)}},function(e,t){K.debugMode&&r.log("[MONITORING MESSAGE]",e,t)}(a,s),X(h({message:a,status:"debug"},s)))}(e)}))),a.open("POST",o,!0),a.send(e)},e}(),Be=!1;function Fe(e,t,n){var r,o=i(t);function i(t){return new De(new Re(t,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout)}return n&&(r=i(n)),{add:function(e){o.add(e),r&&r.add(e)}}}var Me=1/0,je=function(){function e(e){var t=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval((function(){return t.clearOldContexts()}),6e4)}return e.prototype.add=function(e,t){var n=this,r={context:e,startTime:t,endTime:Me,remove:function(){var e=n.entries.indexOf(r);e>=0&&n.entries.splice(e,1)},close:function(e){r.endTime=e}};return this.entries.unshift(r),r},e.prototype.find=function(e){void 0===e&&(e=Me);for(var t=0,n=this.entries;t<n.length;t++){var r=n[t];if(r.startTime<=e){if(e<=r.endTime)return r.context;break}}},e.prototype.closeActive=function(e){var t=this.entries[0];t&&t.endTime===Me&&t.close(e)},e.prototype.findAll=function(e){return void 0===e&&(e=Me),this.entries.filter((function(t){return t.startTime<=e&&e<=t.endTime})).map((function(e){return e.context}))},e.prototype.reset=function(){this.entries=[]},e.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},e.prototype.clearOldContexts=function(){for(var e=z()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},e}(),Ne=9e5;var He,ze=/^([a-z]+)=([a-z0-9-]+)$/,Ue="_dd_s",Ye=[];function We(e,t){var n;if(void 0===t&&(t=0),He||(He=e),e===He)if(t>=100)Ge();else{var r,o=Je();if(Ve()){if(o.lock)return void Ke(e,t);if(r=v(),o.lock=r,$e(o,e.options),(o=Je()).lock!==r)return void Ke(e,t)}var i=e.process(o);if(Ve()&&(o=Je()).lock!==r)Ke(e,t);else{if(i&&qe(i,e.options),Ve()&&(!i||!Xe(i))){if((o=Je()).lock!==r)return void Ke(e,t);delete o.lock,$e(o,e.options),i=o}null===(n=e.after)||void 0===n||n.call(e,i||o),Ge()}}else Ye.push(e)}function Ve(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}function Ke(e,t){setTimeout(q((function(){We(e,t+1)})),10)}function Ge(){He=void 0;var e=Ye.shift();e&&We(e)}function qe(e,t){Xe(e)?function(e){se(Ue,"",0,e)}(t):(e.expire=String(Date.now()+Ne),$e(e,t))}function $e(e,t){se(Ue,function(e){return(t=e,Object.keys(t).map((function(e){return[e,t[e]]}))).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(n)})).join("&");var t}(e),Ne,t)}function Je(){var e=ce(Ue),t={};return function(e){return void 0!==e&&(-1!==e.indexOf("&")||ze.test(e))}(e)&&e.split("&").forEach((function(e){var n=ze.exec(e);if(null!==n){var r=n[1],o=n[2];t[r]=o}})),t}function Xe(e){return t=e,0===Object.keys(t).length;var t}var Ze,Qe=[];function et(e,t,n){!function(e){var t=ce(Ue),n=ce("_dd"),r=ce("_dd_r"),o=ce("_dd_l");if(!t){var i={};n&&(i.id=n),o&&/^[01]$/.test(o)&&(i.logs=o),r&&/^[012]$/.test(r)&&(i.rum=r),qe(i,e)}}(e);var r=function(e,t,n){var r,o=new j,i=new j,a=setInterval(q((function(){We({options:e,process:function(e){return l(e)?void 0:{}},after:c})})),1e3),s=l(r=Je())?r:{};function c(e){return l(e)||(e={}),u()&&(function(e){return s.id!==e.id||s[t]!==e[t]}(e)?(s={},i.notify()):s=e),e}function u(){return void 0!==s[t]}function l(e){return(void 0===e.created||Date.now()-Number(e.created)<144e5)&&(void 0===e.expire||Date.now()<Number(e.expire))}return{expandOrRenewSession:p(q((function(){var r;We({options:e,process:function(e){var o=c(e);return r=function(e){var r=n(e[t]),o=r.trackingType,i=r.isTracked;return e[t]=o,i&&!e.id&&(e.id=v(),e.created=String(Date.now())),i}(o),o},after:function(e){r&&!u()&&function(e){s=e,o.notify()}(e),s=e}})})),1e3).throttled,expandSession:function(){We({options:e,process:function(e){return u()?c(e):void 0}})},getSession:function(){return s},renewObservable:o,expireObservable:i,stop:function(){clearInterval(a)}}}(e,t,n);Qe.push((function(){return r.stop()}));var o,i=new je(144e5);function a(){return{id:r.getSession().id,trackingType:r.getSession()[t]}}return Qe.push((function(){return i.stop()})),r.renewObservable.subscribe((function(){i.add(a(),z())})),r.expireObservable.subscribe((function(){i.closeActive(z())})),r.expandOrRenewSession(),i.add(a(),[0,W()][0]),o=T(window,["click","touchstart","keydown","scroll"],(function(){return r.expandOrRenewSession()}),{capture:!0,passive:!0}).stop,Qe.push(o),function(e){var t=q((function(){"visible"===document.visibilityState&&r.expandSession()})),n=k(document,"visibilitychange",t).stop;Qe.push(n);var o=setInterval(t,6e4);Qe.push((function(){clearInterval(o)}))}(),{findActiveSession:function(e){return i.find(e)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}function tt(e){return m(e.sampleRate)?"1":"0"}function nt(e,t,n){var r=0,o=!1;return{isLimitReached:function(){if(0===r&&setTimeout((function(){r=0}),6e4),(r+=1)<=t||o)return o=!1,!1;if(r===t+1){o=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:"agent",startClocks:U()})}finally{o=!1}}return!0}}}function rt(e,t){var n={date:e.startClocks.timeStamp,error:{kind:e.type,origin:e.source,stack:e.stack},origin:e.source};t.sendToHttp(e.message,n,Te.error)}function ot(e){var t=window.DD_RUM;return t&&t.getInternalContext?t.getInternalContext(e):void 0}var it,at,st=((Ze={})[be.log]=Te.info,Ze[be.debug]=Te.debug,Ze[be.info]=Te.info,Ze[be.warn]=Te.warn,Ze[be.error]=Te.error,Ze),ct=((it={})[Ee.cspViolation]=Te.error,it[Ee.intervention]=Te.error,it[Ee.deprecation]=Te.warn,it);function ut(e,t,n){var r=e[t],o=n(r),i=function(){return o.apply(this,arguments)};return e[t]=i,{stop:function(){e[t]===i?e[t]=r:o=r}}}function lt(e,t,n){var r=n.before,o=n.after;return ut(e,t,(function(e){return function(){var t,n=arguments;return r&&$(r,this,n),"function"==typeof e&&(t=e.apply(this,n)),o&&$(o,this,n),t}}))}var dt,ft=new WeakMap;function pt(){var e;return at||(e=new j((function(){var t=lt(XMLHttpRequest.prototype,"open",{before:ht}).stop,n=lt(XMLHttpRequest.prototype,"send",{before:function(){vt.call(this,e)}}).stop,r=lt(XMLHttpRequest.prototype,"abort",{before:mt}).stop;return function(){t(),n(),r()}})),at=e),at}function ht(e,t){ft.set(this,{state:"open",method:e,url:le(t.toString())})}function vt(e){var t=this,n=ft.get(this);if(n){var r=n;r.state="start",r.startTime=z(),r.startClocks=U(),r.isAborted=!1,r.xhr=this;var o=!1,i=lt(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&a()}}).stop,a=q((function(){if(t.removeEventListener("loadend",a),i(),!o){o=!0;var s=n;s.state="complete",s.duration=Y(r.startClocks.timeStamp,H()),s.status=t.status,e.notify(h({},s))}}));this.addEventListener("loadend",a),e.notify(r)}}function mt(){var e=ft.get(this);e&&(e.isAborted=!0)}function yt(e,t,n){var r=n&&n.method||"object"==typeof t&&t.method||"GET",o=le("object"==typeof t&&t.url||t),i={state:"start",init:n,input:t,method:r,startClocks:U(),url:o};return e.notify(i),i}function gt(e,t,n){var r=function(t){var r=n;r.state="complete",r.duration=Y(r.startClocks.timeStamp,H()),"stack"in t||t instanceof Error?(r.status=0,r.isAborted=t instanceof DOMException&&t.code===DOMException.ABORT_ERR,r.error=t,e.notify(r)):"status"in t&&(r.response=t,r.responseType=t.type,r.status=t.status,r.isAborted=!1,e.notify(r))};t.then(q(r),q(r))}function bt(e,t){var n,r=pt().subscribe((function(e){"complete"===e.state&&a("xhr",e)})),o=(dt||(n=new j((function(){if(window.fetch)return ut(window,"fetch",(function(e){return function(t,r){var o,i=$(yt,null,[n,t,r]);return i?(o=e.call(this,i.input,i.init),$(gt,null,[n,o,i])):o=e.call(this,t,r),o}})).stop})),dt=n),dt).subscribe((function(e){"complete"===e.state&&a("fetch",e)}));function a(n,r){function o(e){var o={date:r.startClocks.timeStamp,error:{origin:P,stack:e||"Failed to load"},http:{method:r.method,status_code:r.status,url:r.url},origin:P};t.sendToHttp("".concat(function(e){return"xhr"===e?"XHR":"Fetch"}(n)," error ").concat(r.method," ").concat(r.url),o,Te.error)}e.isIntakeUrl(r.url)||!function(e){return 0===e.status&&"opaque"!==e.responseType}(r)&&!function(e){return e.status>=500}(r)||("xhr"in r?function(e,t,n){"string"==typeof e.response?n(_t(e.response,t)):n(e.response)}(r.xhr,e,o):r.response?function(e,t,n){window.TextDecoder?e.body?function(e,t,n){!function(e,t,n){var r=e.getReader(),o=[],i=0;function a(){var e;if(r.cancel().catch(y),1===o.length)e=o[0];else{e=new Uint8Array(i);var a=0;o.forEach((function(t){e.set(t,a),a+=t.length}))}n(void 0,e.slice(0,t),e.length>t)}!function e(){r.read().then(q((function(n){n.done?a():(o.push(n.value),(i+=n.value.length)>t?a():e())})),q((function(e){return n(e)})))}()}(e,t,(function(e,t,r){if(e)n(e);else{var o=(new TextDecoder).decode(t);r&&(o+="..."),n(void 0,o)}}))}(e.clone().body,t.requestErrorResponseLengthLimit,(function(e,t){n(e?"Unable to retrieve response: ".concat(e):t)})):n():e.clone().text().then(q((function(e){return n(_t(e,t))})),q((function(e){return n("Unable to retrieve response: ".concat(e))})))}(r.response,e,o):r.error&&function(e,t,n){n(_t(I(i(e)),t))}(r.error,e,o))}return{stop:function(){r.unsubscribe(),o.unsubscribe()}}}function _t(e,t){return e.length>t.requestErrorResponseLengthLimit?"".concat(e.substring(0,t.requestErrorResponseLengthLimit),"..."):e}var wt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function Et(e){return t=function(t,n){var r=function(e,t,n,r){return e&&(void 0!==e.message||t instanceof Error)?{message:e.message||"Empty message",stack:I(e),handlingStack:r,type:e.name}:{message:"".concat("Uncaught"," ").concat(g(t)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}}(t,n),o=r.stack,i=r.message,a=r.type;e.notify({message:i,stack:o,type:a,source:"source",startClocks:U(),originalError:n,handling:"unhandled"})},n=function(e){return lt(window,"onerror",{before:function(t,n,r,o,a){var s;if(a)s=i(a),e(s,a);else{var c,u={url:n,column:o,line:r},l=t;if("[object String]"==={}.toString.call(t)){var d=wt.exec(l);d&&(c=d[1],l=d[2])}e(s={name:c,message:"string"==typeof l?l:void 0,stack:[u]},t)}}})}(t).stop,r=function(e){return lt(window,"onunhandledrejection",{before:function(t){var n=t.reason||"Empty reason",r=i(n);e(r,n)}})}(t).stop,{stop:function(){n(),r()}};var t,n,r}var At,Ot,kt,Tt=function(e){var t,n,o=!1,i=te(),a={},s=new oe,c=function(e,t){s.add((function(){return c(e,t)}))},u=function(){},l=Le(d);return t={logger:new xe(l),init:q((function(e){if(ae()&&(e=function(e){return h({},e,{clientToken:"empty"})}(e)),function(e){return!o||(e.silentMultipleInit||r.error("DD_LOGS is already initialized."),!1)}(e)){var t=function(e){var t=ye(e),n=Oe(e.forwardConsoleLogs,E(be),"Forward Console Logs"),r=Oe(e.forwardReports,E(Ee),"Forward Reports");if(t&&n&&r)return e.forwardErrorsToLogs&&!_(n,be.error)&&n.push(be.error),h({forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:32768},t)}(e);t&&(c=function(e,t){var n=function(e){var t,n,r=function(e){var t,n,r=new j,o=new j;return K.telemetryEnabled=m(e.telemetrySampleRate),V=function(e){r.notify(function(e){return x({date:H()},void 0!==t?t():{},e)}(e)),M&&M.has("telemetry")&&K.telemetryEnabled&&o.notify(function(e){return x({type:"telemetry",date:H(),service:"browser-sdk",version:"4.8.1",source:"browser",_dd:{format_version:2},telemetry:e},void 0!==n?n():{})}(e))},h(K,{maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0}),{setExternalContextProvider:function(e){t=e},monitoringMessageObservable:r,setTelemetryContextProvider:function(e){n=e},telemetryEventObservable:o}}(e);if(ae()){var o=ie();r.monitoringMessageObservable.subscribe((function(e){return o.send("internal_log",e)})),r.telemetryEventObservable.subscribe((function(e){return o.send("internal_telemetry",e)}))}else{if(e.internalMonitoringEndpointBuilder){var i=Fe(e,e.internalMonitoringEndpointBuilder,null===(t=e.replica)||void 0===t?void 0:t.internalMonitoringEndpointBuilder);r.monitoringMessageObservable.subscribe((function(e){return i.add(e)}))}var a=Fe(e,e.rumEndpointBuilder,null===(n=e.replica)||void 0===n?void 0:n.rumEndpointBuilder);r.telemetryEventObservable.subscribe((function(e){return a.add(e)}))}return r}(e);n.setExternalContextProvider((function(){var e;return x({session_id:null===(e=o.findTrackedSession())||void 0===e?void 0:e.id},ot(),{view:{name:null,url:null,referrer:null}})})),n.setTelemetryContextProvider((function(){var e,t,n,r,i,a;return{application:{id:null===(e=ot())||void 0===e?void 0:e.application_id},session:{id:null===(t=o.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=ot())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(a=null===(i=ot())||void 0===i?void 0:i.user_action)||void 0===a?void 0:a.id}}})),bt(e,t),function(e,t,n){void 0===n&&(n=new j),e.forwardErrorsToLogs&&Et(n);n.subscribe((function(e){return rt(e,t)}))}(e,t),function(e,t){var n,r;(n=e.forwardConsoleLogs,r=n.map((function(e){return _e[e]||(_e[e]=function(e){var t=new j((function(){var n=console[e];return console[e]=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];n.apply(console,r);var i=B();$((function(){t.notify(we(r,e,i))}))},function(){console[e]=n}}));return t}(e)),_e[e]})),N.apply(void 0,r)).subscribe((function(e){var n={origin:C};e.api===be.error&&(n.error={origin:C,stack:e.stack}),t.sendToHttp(e.message,n,st[e.api])}))}(e,t),function(e,t){(function(e){var t,n=[];_(e,Ee.cspViolation)&&n.push(t=new j((function(){var e=q((function(e){t.notify(function(e){var t=Ee.cspViolation,n="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return{type:Ee.cspViolation,subtype:e.effectiveDirective,message:"".concat(t,": ").concat(n),stack:Ae(e.effectiveDirective,"".concat(n,' of the policy "').concat(O(e.originalPolicy,100,"..."),'"'),e.sourceFile,e.lineNumber,e.columnNumber)}}(e))}));return k(document,"securitypolicyviolation",e).stop})));var r=e.filter((function(e){return e!==Ee.cspViolation}));return r.length&&n.push(function(e){var t=new j((function(){if(window.ReportingObserver){var n=q((function(e){return e.forEach((function(e){t.notify(function(e){var t=e.type,n=e.body;return{type:t,subtype:n.id,message:"".concat(t,": ").concat(n.message),stack:Ae(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}(e))}))})),r=new window.ReportingObserver(n,{types:e,buffered:!0});return r.observe(),function(){r.disconnect()}}}));return t}(r)),N.apply(void 0,n)})(e.forwardReports).subscribe((function(e){var n=e.message,r={origin:D},o=ct[e.type];o===Te.error?r.error={kind:e.subtype,origin:D,stack:e.stack}:e.stack&&(n+=" Found in ".concat(function(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}(e.stack))),t.sendToHttp(n,r,o)}))}(e,t);var o=function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(v()),n="test";se(t,n,f,e);var o=ce(t)===n;return ue(t,e),o}catch(e){return r.error(e),!1}}(e.cookieOptions)&&!ae()?function(e){var t=et(e.cookieOptions,"logs",(function(t){return function(e,t){var n=function(e){return"0"===e||"1"===e}(t)?t:tt(e);return{trackingType:n,isTracked:"1"===n}}(e,t)}));return{findTrackedSession:function(e){var n=t.findActiveSession(e);return n&&"1"===n.trackingType?{id:n.id}:void 0}}}(e):function(e){var t="1"===tt(e)?{}:void 0;return{findTrackedSession:function(){return t}}}(e);return function(e,t,n){var r,o,i=function(e,t,n){var r,o=function(e){return rt(e,n)},i=((r={})[Te.error]=nt(Te.error,t.eventRateLimiterThreshold,o),r[Te.warn]=nt(Te.warn,t.eventRateLimiterThreshold,o),r[Te.info]=nt(Te.info,t.eventRateLimiterThreshold,o),r[Te.debug]=nt(Te.debug,t.eventRateLimiterThreshold,o),r.custom=nt("custom",t.eventRateLimiterThreshold,o),r);return function(n,r){var o,a,s=n.date?n.date-W():void 0,c=e.findTrackedSession(s);if(c){var u=x({service:t.service,session_id:c.id},r,ot(s),n);if(!1!==(null===(o=t.beforeSend)||void 0===o?void 0:o.call(t,u))&&!(null!==(a=i[u.status])&&void 0!==a?a:i.custom).isLimitReached())return u}}}(t,e,n);if(ae()){var a=ie();o=function(e){return a.send("log",e)}}else{var s=Fe(e,e.logsEndpointBuilder,null===(r=e.replica)||void 0===r?void 0:r.logsEndpointBuilder);o=function(e){return s.add(e)}}return{send:function(e,t){var n=i(e,t);n&&o(n)}}}(e,o,t)}(t,l).send,u=function(){return S(void 0,e)},s.drain(),o=!0)}})),getLoggerGlobalContext:q(i.get),setLoggerGlobalContext:q(i.set),addLoggerGlobalContext:q(i.add),removeLoggerGlobalContext:q(i.remove),createLogger:q((function(e,t){void 0===t&&(t={});var n=Le(d,t.handler,t.level,h({},t.context,{logger:{name:e}}));return a[e]=new xe(n),a[e]})),getLogger:q((function(e){return a[e]})),getInitConfiguration:q((function(){return u()}))},n=h({version:"4.8.1",onReady:function(e){e()}},t),Object.defineProperty(n,"_setDebug",{get:function(){return Z},enumerable:!1}),n;function d(e){c(e,x({date:Date.now(),view:{referrer:document.referrer,url:window.location.href}},i.get()))}}();At=A(),Ot=Tt,kt=At["DD_LOGS"],At.DD_LOGS=Ot,kt&&kt.q&&kt.q.forEach((function(e){return ee(e,"onReady callback threw an error:")()}))},303:(e,t,n)=>{e.exports=n(457)},402:e=>{!function(t){if("undefined"!=typeof window){var n=!0,r="",o=0,i="",a=null,s="",c=!1,u={resize:1,click:1},l=128,d=!0,f=1,p="bodyOffset",h=p,v=!0,m="",y={},g=32,b=null,_=!1,w=!1,E="[iFrameSizer]",A=E.length,O="",k={max:1,min:1,bodyScroll:1,documentElementScroll:1},T="child",S=window.parent,x="*",C=0,L=!1,P=null,D=16,I=1,R="scroll",B=R,F=window,M=function(){ie("onMessage function not defined")},j=function(){},N=function(){},H={height:function(){return ie("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return ie("Custom width calculation function not defined"),document.body.scrollWidth}},z={},U=!1;try{var Y=Object.create({},{passive:{get:function(){U=!0}}});window.addEventListener("test",ee,Y),window.removeEventListener("test",ee,Y)}catch(e){}var W,V,K,G,q,$,J,X={bodyOffset:function(){return document.body.offsetHeight+ve("marginTop")+ve("marginBottom")},offset:function(){return X.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return H.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ye(X))},min:function(){return Math.min.apply(null,ye(X))},grow:function(){return X.max()},lowestElement:function(){return Math.max(X.bodyOffset()||X.documentElementOffset(),me("bottom",be()))},taggedElement:function(){return ge("bottom","data-iframe-height")}},Z={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return H.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Z.bodyScroll(),Z.documentElementScroll())},max:function(){return Math.max.apply(null,ye(Z))},min:function(){return Math.min.apply(null,ye(Z))},rightMostElement:function(){return me("right",be())},taggedElement:function(){return ge("right","data-iframe-width")}},Q=(W=_e,q=null,$=0,J=function(){$=Date.now(),q=null,G=W.apply(V,K),q||(V=K=null)},function(){var e=Date.now();$||($=e);var t=D-(e-$);return V=this,K=arguments,t<=0||t>D?(q&&(clearTimeout(q),q=null),$=e,G=W.apply(V,K),q||(V=K=null)):q||(q=setTimeout(J,t)),G});te(window,"message",(function(u){var f,p={init:function(){var e,f,p;m=u.data,S=u.source,function(){function e(e){return"true"===e}var a=m.substr(A).split(":");O=a[0],o=t!==a[1]?Number(a[1]):o,c=t!==a[2]?e(a[2]):c,_=t!==a[3]?e(a[3]):_,g=t!==a[4]?Number(a[4]):g,n=t!==a[6]?e(a[6]):n,i=a[7],h=t!==a[8]?a[8]:h,r=a[9],s=a[10],C=t!==a[11]?Number(a[11]):C,y.enable=t!==a[12]&&e(a[12]),T=t!==a[13]?a[13]:T,B=t!==a[14]?a[14]:B,w=t!==a[15]?Boolean(a[15]):w}(),oe("Initialising iFrame ("+window.location.href+")"),function(){function e(){var e=window.iFrameResizer;oe("Reading data from page: "+JSON.stringify(e)),Object.keys(e).forEach(ae,e),M="onMessage"in e?e.onMessage:M,j="onReady"in e?e.onReady:j,x="targetOrigin"in e?e.targetOrigin:x,h="heightCalculationMethod"in e?e.heightCalculationMethod:h,B="widthCalculationMethod"in e?e.widthCalculationMethod:B}function t(e,t){return"function"==typeof e&&(oe("Setup custom "+t+"CalcMethod"),H[t]=e,e="custom"),e}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(e(),h=t(h,"height"),B=t(B,"width")),oe("TargetOrigin for parent set to: "+x)}(),t===i&&(i=o+"px"),se("margin",(f="margin",-1!==(p=i).indexOf("-")&&(ie("Negative CSS value ignored for "+f),p=""),p)),se("background",r),se("padding",s),(e=document.createElement("div")).style.clear="both",e.style.display="block",e.style.height="0",document.body.appendChild(e),de(),fe(),document.documentElement.style.height="",document.body.style.height="",oe('HTML & body height set to "auto"'),oe("Enable public methods"),F.parentIFrame={autoResize:function(e){return!0===e&&!1===n?(n=!0,pe()):!1===e&&!0===n&&(n=!1,ue("remove"),null!==a&&a.disconnect(),clearInterval(b)),ke(0,0,"autoResize",JSON.stringify(n)),n},close:function(){ke(0,0,"close")},getId:function(){return O},getPageInfo:function(e){"function"==typeof e?(N=e,ke(0,0,"pageInfo")):(N=function(){},ke(0,0,"pageInfoStop"))},moveToAnchor:function(e){y.findTarget(e)},reset:function(){Oe("parentIFrame.reset")},scrollTo:function(e,t){ke(t,e,"scrollTo")},scrollToOffset:function(e,t){ke(t,e,"scrollToOffset")},sendMessage:function(e,t){ke(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){h=e,de()},setWidthCalculationMethod:function(e){B=e,fe()},setTargetOrigin:function(e){oe("Set targetOrigin: "+e),x=e},size:function(e,t){we("size","parentIFrame.size("+(e||"")+(t?","+t:"")+")",e,t)}},function(){function e(e){ke(0,0,e.type,e.screenY+":"+e.screenX)}function t(t,n){oe("Add event listener: "+n),te(window.document,t,e)}!0===w&&(t("mouseenter","Mouse Enter"),t("mouseleave","Mouse Leave"))}(),pe(),y=function(){function e(){return{x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}}function n(t){var n=t.getBoundingClientRect(),r=e();return{x:parseInt(n.left,10)+parseInt(r.x,10),y:parseInt(n.top,10)+parseInt(r.y,10)}}function r(e){function r(e){var t=n(e);oe("Moving to in page link (#"+o+") at x: "+t.x+" y: "+t.y),ke(t.y,t.x,"scrollToOffset")}var o=e.split("#")[1]||e,i=decodeURIComponent(o),a=document.getElementById(i)||document.getElementsByName(i)[0];t!==a?r(a):(oe("In page link (#"+o+") not found in iFrame, so sending to parent"),ke(0,0,"inPageLink","#"+o))}function o(){var e=window.location.hash,t=window.location.href;""!==e&&"#"!==e&&r(t)}function i(){function e(e){function t(e){e.preventDefault(),r(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&te(e,"click",t)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function a(){te(window,"hashchange",o)}function s(){setTimeout(o,l)}function c(){Array.prototype.forEach&&document.querySelectorAll?(oe("Setting up location.hash handlers"),i(),a(),s()):ie("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return y.enable?c():oe("In page linking not enabled"),{findTarget:r}}(),we("init","Init message from host page"),j(),d=!1,setTimeout((function(){v=!1}),l)},reset:function(){v?oe("Page reset ignored by init"):(oe("Page size reset by host page"),Ae("resetPage"))},resize:function(){we("resizeParent","Parent window requested size check")},moveToAnchor:function(){y.findTarget(L())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var e=L();oe("PageInfoFromParent called from parent: "+e),N(JSON.parse(e)),oe(" --")},message:function(){var e=L();oe("onMessage called from parent: "+e),M(JSON.parse(e)),oe(" --")}};function k(){return u.data.split("]")[1].split(":")[0]}function L(){return u.data.substr(u.data.indexOf(":")+1)}function P(){return u.data.split(":")[2]in{true:1,false:1}}E===(""+u.data).substr(0,A)&&(!1===d?(f=k())in p?p[f]():!e.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||P()||ie("Unexpected message ("+u.data+")"):P()?p.init():oe('Ignored message of type "'+k()+'". Received before initialization.'))})),te(window,"readystatechange",Te),Te()}function ee(){}function te(e,t,n,r){e.addEventListener(t,n,!!U&&(r||{}))}function ne(e){return e.charAt(0).toUpperCase()+e.slice(1)}function re(e){return E+"["+O+"] "+e}function oe(e){_&&"object"==typeof window.console&&console.log(re(e))}function ie(e){"object"==typeof window.console&&console.warn(re(e))}function ae(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],ie("Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}function se(e,n){t!==n&&""!==n&&"null"!==n&&(document.body.style[e]=n,oe("Body "+e+' set to "'+n+'"'))}function ce(e){var t={add:function(t){function n(){we(e.eventName,e.eventType)}z[t]=n,te(window,t,n,{passive:!0})},remove:function(e){var t,n,r=z[e];delete z[e],t=e,n=r,window.removeEventListener(t,n,!1)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(t[e.method])):t[e.method](e.eventName),oe(ne(e.method)+" event listener: "+e.eventType)}function ue(e){ce({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),ce({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),ce({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),ce({method:e,eventType:"Input",eventName:"input"}),ce({method:e,eventType:"Mouse Up",eventName:"mouseup"}),ce({method:e,eventType:"Mouse Down",eventName:"mousedown"}),ce({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),ce({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),ce({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),ce({method:e,eventType:"Touch Start",eventName:"touchstart"}),ce({method:e,eventType:"Touch End",eventName:"touchend"}),ce({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),ce({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),ce({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),ce({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===T&&ce({method:e,eventType:"IFrame Resized",eventName:"resize"})}function le(e,t,n,r){return t!==e&&(e in n||(ie(e+" is not a valid option for "+r+"CalculationMethod."),e=t),oe(r+' calculation method set to "'+e+'"')),e}function de(){h=le(h,p,X,"height")}function fe(){B=le(B,R,Z,"width")}function pe(){var e;!0===n?(ue("add"),e=0>g,window.MutationObserver||window.WebKitMutationObserver?e?he():a=function(){function e(e){function t(e){!1===e.complete&&(oe("Attach listeners to "+e.src),e.addEventListener("load",r,!1),e.addEventListener("error",o,!1),a.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function t(e){oe("Remove listeners from "+e.src),e.removeEventListener("load",r,!1),e.removeEventListener("error",o,!1),function(e){a.splice(a.indexOf(e),1)}(e)}function n(e,n,r){t(e.target),we(n,r+": "+e.target.src)}function r(e){n(e,"imageLoad","Image loaded")}function o(e){n(e,"imageLoadFailed","Image load failed")}function i(t){we("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type),t.forEach(e)}var a=[],s=window.MutationObserver||window.WebKitMutationObserver,c=function(){var e=document.querySelector("body");return c=new s(i),oe("Create body MutationObserver"),c.observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),c}();return{disconnect:function(){"disconnect"in c&&(oe("Disconnect body MutationObserver"),c.disconnect(),a.forEach(t))}}}():(oe("MutationObserver not supported in this browser!"),he())):oe("Auto Resize disabled")}function he(){0!==g&&(oe("setInterval: "+g+"ms"),b=setInterval((function(){we("interval","setInterval: "+g)}),Math.abs(g)))}function ve(e,t){var n=0;return t=t||document.body,n=null!==(n=document.defaultView.getComputedStyle(t,null))?n[e]:0,parseInt(n,10)}function me(e,t){for(var n=t.length,r=0,o=0,i=ne(e),a=Date.now(),s=0;s<n;s++)(r=t[s].getBoundingClientRect()[e]+ve("margin"+i,t[s]))>o&&(o=r);return a=Date.now()-a,oe("Parsed "+n+" HTML elements"),oe("Element position calculated in "+a+"ms"),function(e){e>D/2&&oe("Event throttle increased to "+(D=2*e)+"ms")}(a),o}function ye(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function ge(e,t){var n=document.querySelectorAll("["+t+"]");return 0===n.length&&(ie("No tagged elements ("+t+") found on page"),document.querySelectorAll("body *")),me(e,n)}function be(){return document.querySelectorAll("body *")}function _e(e,n,r,o){var i,a;!function(){function e(e,t){return!(Math.abs(e-t)<=C)}return i=t!==r?r:X[h](),a=t!==o?o:Z[B](),e(f,i)||c&&e(I,a)}()&&"init"!==e?!(e in{init:1,interval:1,size:1})&&(h in k||c&&B in k)?Oe(n):e in{interval:1}||oe("No change in size detected"):(Ee(),ke(f=i,I=a,e))}function we(e,t,n,r){L&&e in u?oe("Trigger event cancelled: "+e):(e in{reset:1,resetPage:1,init:1}||oe("Trigger event: "+t),"init"===e?_e(e,t,n,r):Q(e,t,n,r))}function Ee(){L||(L=!0,oe("Trigger event lock on")),clearTimeout(P),P=setTimeout((function(){L=!1,oe("Trigger event lock off"),oe("--")}),l)}function Ae(e){f=X[h](),I=Z[B](),ke(f,I,e)}function Oe(e){var t=h;h=p,oe("Reset trigger event: "+e),Ee(),Ae("reset"),h=t}function ke(e,n,r,o,i){var a;t===i?i=x:oe("Message targetOrigin: "+i),oe("Sending message to host page ("+(a=O+":"+e+":"+n+":"+r+(t!==o?":"+o:""))+")"),S.postMessage(E+a,i)}function Te(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()},702:(e,t)=>{var n,r,o;!function(i){if("undefined"!=typeof window){var a,s=0,c=!1,u=!1,l="message".length,d="[iFrameSizer]",f=d.length,p=null,h=window.requestAnimationFrame,v={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},m={},y=null,g={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){T("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},b={};window.jQuery&&((a=window.jQuery).fn?a.fn.iFrameResize||(a.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){H(n,e)})).end()}):k("","Unable to bind to jQuery, it is not fully loaded.")),r=[],(o="function"==typeof(n=W)?n.apply(t,r):n)===i||(e.exports=o),window.iFrameResize=window.iFrameResize||W()}function _(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function w(e,t,n){e.addEventListener(t,n,!1)}function E(e,t,n){e.removeEventListener(t,n,!1)}function A(e){return m[e]?m[e].log:c}function O(e,t){S("log",e,t,A(e))}function k(e,t){S("info",e,t,A(e))}function T(e,t){S("warn",e,t,!0)}function S(e,t,n,r){!0===r&&"object"==typeof window.console&&console[e](function(e){return d+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}(t),n)}function x(e){function t(){n("Height"),n("Width"),M((function(){F(x),I(L),u("onResized",x)}),x,"init")}function n(e){var t=Number(m[L]["max"+e]),n=Number(m[L]["min"+e]),r=e.toLowerCase(),o=Number(x[r]);O(L,"Checking "+r+" is in range "+n+"-"+t),o<n&&(o=n,O(L,"Set "+r+" to min value")),o>t&&(o=t,O(L,"Set "+r+" to max value")),x[r]=""+o}function r(e){return S.substr(S.indexOf(":")+l+e)}function o(e,t){var n,r;n=function(){var n,r;j("Send Page Info","pageInfo:"+(n=document.body.getBoundingClientRect(),r=x.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:r.height,iframeWidth:r.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(r.top-n.top,10),offsetLeft:parseInt(r.left-n.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),e,t)},b[r=t]||(b[r]=setTimeout((function(){b[r]=null,n()}),32))}function i(e){var t=e.getBoundingClientRect();return D(L),{x:Math.floor(Number(t.left)+Number(p.x)),y:Math.floor(Number(t.top)+Number(p.y))}}function a(e){var t=e?i(x.iframe):{x:0,y:0},n={x:Number(x.width)+t.x,y:Number(x.height)+t.y};O(L,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):T(L,"Unable to scroll to requested position, window.parentIFrame not found"):(p=n,s(),O(L,"--"))}function s(){!1!==u("onScroll",p)?I(L):R()}function c(e){var t={};if(0===Number(x.width)&&0===Number(x.height)){var n=r(9).split(":");t={x:n[1],y:n[0]}}else t={x:x.width,y:x.height};u(e,{iframe:x.iframe,screenX:Number(t.x),screenY:Number(t.y),type:x.type})}function u(e,t){return C(L,e,t)}var h,v,y,g,_,A,S=e.data,x={},L=null;"[iFrameResizerChild]Ready"===S?function(){for(var e in m)j("iFrame requested init",N(e),m[e].iframe,e)}():d===(""+S).substr(0,f)&&S.substr(f).split(":")[0]in m?(g=(y=S.substr(f).split(":"))[1]?parseInt(y[1],10):0,_=m[y[0]]&&m[y[0]].iframe,A=getComputedStyle(_),x={iframe:_,id:y[0],height:g+function(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}(A)+function(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}(A),width:y[2],type:y[3]},L=x.id,m[L]&&(m[L].loaded=!0),(v=x.type in{true:1,false:1,undefined:1})&&O(L,"Ignoring init message from meta parent page"),!v&&function(e){var t=!0;return m[e]||(t=!1,T(x.type+" No settings for "+e+". Message was: "+S)),t}(L)&&(O(L,"Received: "+S),h=!0,null===x.iframe&&(T(L,"IFrame ("+x.id+") not found"),h=!1),h&&function(){var t,n=e.origin,r=m[L]&&m[L].checkOrigin;if(r&&""+n!="null"&&!(r.constructor===Array?function(){var e=0,t=!1;for(O(L,"Checking connection is from allowed list of origins: "+r);e<r.length;e++)if(r[e]===n){t=!0;break}return t}():(t=m[L]&&m[L].remoteHost,O(L,"Checking connection is from: "+t),n===t)))throw new Error("Unexpected message received from: "+n+" for "+x.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(m[L]&&m[L].firstRun&&m[L]&&(m[L].firstRun=!1),x.type){case"close":P(x.iframe);break;case"message":f=r(6),O(L,"onMessage passed: {iframe: "+x.iframe.id+", message: "+f+"}"),u("onMessage",{iframe:x.iframe,message:JSON.parse(f)}),O(L,"--");break;case"mouseenter":c("onMouseEnter");break;case"mouseleave":c("onMouseLeave");break;case"autoResize":m[L].autoResize=JSON.parse(r(9));break;case"scrollTo":a(!1);break;case"scrollToOffset":a(!0);break;case"pageInfo":o(m[L]&&m[L].iframe,L),function(){function e(e,r){function i(){m[n]?o(m[n].iframe,n):t()}["scroll","resize"].forEach((function(t){O(n,e+t+" listener for sendPageInfo"),r(window,t,i)}))}function t(){e("Remove ",E)}var n=L;e("Add ",w),m[n]&&(m[n].stopPageInfo=t)}();break;case"pageInfoStop":m[L]&&m[L].stopPageInfo&&(m[L].stopPageInfo(),delete m[L].stopPageInfo);break;case"inPageLink":n=r(9).split("#")[1]||"",l=decodeURIComponent(n),(d=document.getElementById(l)||document.getElementsByName(l)[0])?(e=i(d),O(L,"Moving to in page link (#"+n+") at x: "+e.x+" y: "+e.y),p={x:e.x,y:e.y},s(),O(L,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(n):O(L,"In page link #"+n+" not found and window.parentIFrame not found"):O(L,"In page link #"+n+" not found");break;case"reset":B(x);break;case"init":t(),u("onInit",x.iframe);break;default:0===Number(x.width)&&0===Number(x.height)?T("Unsupported message received ("+x.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}var e,n,l,d,f}())):k(L,"Ignored: "+S)}function C(e,t,n){var r=null,o=null;if(m[e]){if("function"!=typeof(r=m[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");o=r(n)}return o}function L(e){var t=e.id;delete m[t]}function P(e){var t=e.id;if(!1!==C(t,"onClose",t)){O(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(e){T(e)}C(t,"onClosed",t),O(t,"--"),L(e)}else O(t,"Close iframe cancelled by onClose event")}function D(e){null===p&&O(e,"Get page position: "+(p={x:window.pageXOffset!==i?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==i?window.pageYOffset:document.documentElement.scrollTop}).x+","+p.y)}function I(e){null!==p&&(window.scrollTo(p.x,p.y),O(e,"Set page position: "+p.x+","+p.y),R())}function R(){p=null}function B(e){O(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),D(e.id),M((function(){F(e),j("reset","reset",e.iframe,e.id)}),e,"reset")}function F(e){function t(t){u||"0"!==e[t]||(u=!0,O(r,"Hidden iFrame detected, creating visibility listener"),function(){function e(){Object.keys(m).forEach((function(e){!function(e){function t(t){return"0px"===(m[e]&&m[e].iframe.style[t])}m[e]&&null!==m[e].iframe.offsetParent&&(t("height")||t("width"))&&j("Visibility change","resize",m[e].iframe,e)}(e)}))}function t(t){O("window","Mutation observed: "+t[0].target+" "+t[0].type),z(e,16)}var n,r=_();r&&(n=document.querySelector("body"),new r(t).observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}))}())}function n(n){!function(t){e.id?(e.iframe.style[t]=e[t]+"px",O(e.id,"IFrame ("+r+") "+t+" set to "+e[t]+"px")):O("undefined","messageData id not set")}(n),t(n)}var r=e.iframe.id;m[r]&&(m[r].sizeHeight&&n("height"),m[r].sizeWidth&&n("width"))}function M(e,t,n){n!==t.type&&h&&!window.jasmine?(O(t.id,"Requesting animation frame"),h(e)):e()}function j(e,t,n,r,o){var i,a=!1;r=r||n.id,m[r]&&(n&&"contentWindow"in n&&null!==n.contentWindow?(i=m[r]&&m[r].targetOrigin,O(r,"["+e+"] Sending msg to iframe["+r+"] ("+t+") targetOrigin: "+i),n.contentWindow.postMessage(d+t,i)):T(r,"["+e+"] IFrame("+r+") not found"),o&&m[r]&&m[r].warningTimeout&&(m[r].msgTimeout=setTimeout((function(){!m[r]||m[r].loaded||a||(a=!0,T(r,"IFrame has not responded within "+m[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),m[r].warningTimeout)))}function N(e){return e+":"+m[e].bodyMarginV1+":"+m[e].sizeWidth+":"+m[e].log+":"+m[e].interval+":"+m[e].enablePublicMethods+":"+m[e].autoResize+":"+m[e].bodyMargin+":"+m[e].heightCalculationMethod+":"+m[e].bodyBackground+":"+m[e].bodyPadding+":"+m[e].tolerance+":"+m[e].inPageLinks+":"+m[e].resizeFrom+":"+m[e].widthCalculationMethod+":"+m[e].mouseEvents}function H(e,t){function n(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],T(a,"Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}var r,o,a=function(n){var r;return""===n&&(e.id=(r=t&&t.id||g.id+s++,null!==document.getElementById(r)&&(r+=s++),n=r),c=(t||{}).log,O(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}(e.id);a in m&&"iFrameResizer"in e?T(a,"Ignored iFrame, already setup."):(function(t){var r;t=t||{},m[a]={firstRun:!0,iframe:e,remoteHost:e.src&&e.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}(t),Object.keys(t).forEach(n,t),function(e){for(var t in g)Object.prototype.hasOwnProperty.call(g,t)&&(m[a][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:g[t])}(t),m[a]&&(m[a].targetOrigin=!0===m[a].checkOrigin?""===(r=m[a].remoteHost)||null!==r.match(/^(about:blank|javascript:|file:\/\/)/)?"*":r:"*")}(t),function(){switch(O(a,"IFrame scrolling "+(m[a]&&m[a].scrolling?"enabled":"disabled")+" for "+a),e.style.overflow=!1===(m[a]&&m[a].scrolling)?"hidden":"auto",m[a]&&m[a].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=m[a]?m[a].scrolling:"no"}}(),function(){function t(t){var n=m[a][t];1/0!==n&&0!==n&&(e.style[t]="number"==typeof n?n+"px":n,O(a,"Set "+t+" = "+e.style[t]))}function n(e){if(m[a]["min"+e]>m[a]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!=typeof(m[a]&&m[a].bodyMargin)&&"0"!==(m[a]&&m[a].bodyMargin)||(m[a].bodyMarginV1=m[a].bodyMargin,m[a].bodyMargin=m[a].bodyMargin+"px"),r=N(a),(o=_())&&function(t){e.parentNode&&new t((function(t){t.forEach((function(t){Array.prototype.slice.call(t.removedNodes).forEach((function(t){t===e&&P(e)}))}))})).observe(e.parentNode,{childList:!0})}(o),w(e,"load",(function(){var t,n;j("iFrame.onload",r,e,i,!0),t=m[a]&&m[a].firstRun,n=m[a]&&m[a].heightCalculationMethod in v,!t&&n&&B({iframe:e,height:0,width:0,type:"init"})})),j("init",r,e,i,!0),m[a]&&(m[a].iframe.iFrameResizer={close:P.bind(null,m[a].iframe),removeListeners:L.bind(null,m[a].iframe),resize:j.bind(null,"Window resize","resize",m[a].iframe),moveToAnchor:function(e){j("Move to anchor","moveToAnchor:"+e,m[a].iframe,a)},sendMessage:function(e){j("Send Message","message:"+(e=JSON.stringify(e)),m[a].iframe,a)}}))}function z(e,t){null===y&&(y=setTimeout((function(){y=null,e()}),t))}function U(){"hidden"!==document.visibilityState&&(O("document","Trigger event: Visiblity change"),z((function(){Y("Tab Visable","resize")}),16))}function Y(e,t){Object.keys(m).forEach((function(n){(function(e){return m[e]&&"parent"===m[e].resizeFrom&&m[e].autoResize&&!m[e].firstRun})(n)&&j(e,t,m[n].iframe,n)}))}function W(){function e(e,n){n&&(function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),H(n,e),t.push(n))}var t;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!h;e+=1)h=window[t[e]+"RequestAnimationFrame"];h?h=h.bind(window):O("setup","RequestAnimationFrame not supported")}(),w(window,"message",x),w(window,"resize",(function(){O("window","Trigger event: resize"),z((function(){Y("Window resize","resize")}),16)})),w(document,"visibilitychange",U),w(document,"-webkit-visibilitychange",U),function(n,r){switch(t=[],function(e){e&&e.enablePublicMethods&&T("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(n),typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),e.bind(i,n));break;case"object":e(n,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")")}return t}}}()},457:(e,t,n)=>{var r=n(702);t.iframeResize=r,t.iframeResizer=r,t.iframeResizerContentWindow=n(402)},337:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=o(t);n;)n=o(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,a=null;this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),c(e,"resize",r,!0)),c(t,"scroll",r,!0),a&&a.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=u){var l=o(t);l&&this._monitorIntersections(l.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=o(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=u(o),s=this._rootContainsTarget(o),c=r.entry,l=e&&s&&this._computeTargetAndRootIntersection(o,a,t),d=null;this._rootContainsTarget(o)?n&&!this.root||(d=t):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var f=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:d,intersectionRect:l});c?e&&s?this._hasCrossedThreshold(c,f)&&this._queuedEntries.push(f):c&&c.isIntersecting&&this._queuedEntries.push(f):this._queuedEntries.push(f)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,o,i){if("none"!=window.getComputedStyle(t).display){for(var a,s,c,l,f,h,v,m,y=o,g=p(t),b=!1;!b&&g;){var _=null,w=1==g.nodeType?window.getComputedStyle(g):{};if("none"==w.display)return null;if(g==this.root||9==g.nodeType)if(b=!0,g==this.root||g==e)n&&!this.root?!r||0==r.width&&0==r.height?(g=null,_=null,y=null):_=r:_=i;else{var E=p(g),A=E&&u(E),O=E&&this._computeTargetAndRootIntersection(E,A,i);A&&O?(g=E,_=d(A,O)):(g=null,y=null)}else{var k=g.ownerDocument;g!=k.body&&g!=k.documentElement&&"visible"!=w.overflow&&(_=u(g))}if(_&&(a=_,s=y,void 0,void 0,void 0,void 0,void 0,void 0,c=Math.max(a.top,s.top),l=Math.min(a.bottom,s.bottom),f=Math.max(a.left,s.left),m=l-c,y=(v=(h=Math.min(a.right,s.right))-f)>=0&&m>=0&&{top:c,bottom:l,left:f,right:h,width:v,height:m}||null),!y)break;g=g&&p(g)}return y}},a.prototype._getRootRect=function(){var t;if(this.root&&!h(this.root))t=u(this.root);else{var n=h(this.root)?this.root:e,r=n.documentElement,o=n.body;t={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return f(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=l(e.rootBounds),this.boundingClientRect=l(e.boundingClientRect),this.intersectionRect=l(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function h(e){return e&&9===e.nodeType}}()},772:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.fillerAds=void 0;var r=["0CA36B4D18F1987A30E3DC631554186B7F115D8A6F4699E9BBF796E99A96972D58CADF4457A44660B4F53A967B45FDC3F5AE4B6741D56310BA900601C9AF6A20","7BEA1C52E8F47772A422DE93BCA11795AB14FAD648F6910410E9F2A47F89AD2CE05F0DE12F4916F182793DBD7FDEFE3A0D32C1BA6EE26686493679ED2D6970D3","46630F25DDFC21F0310A899A75289908233AD83145909AFEC94FB62DD9E8569BF41CFDBB0110BB2338E9A0F67D8F425DDBEE896DAA7DFA36968F56E519B5E853","969DAA8B29053DCFF6C21FD629C1EE54E52D0375702D548975FE82B306A39ECF80AA7A3F6D0409C7A6627BA88F3C9699A1087F17030D0E685784EEC01023A148","DFA13F655F2E7C5F6FF4784A914D69DDE2559317779B4F26BB8E13F4FEE5862D406589A0F77C52EE4CE0BF3BF1A616B40EA74E34A36DA006F1DA35250A22AA67","1097589088B2A94EBABE3FFAF5A19ED388186EFECDD0D25442FA730D0201188B12FA02DD0D597C6DB99546F70943F79DF039824C2058FD3B4C1537772819EED3"].reduce((function(e,t){var r;return n(n({},e),((r={})[t]={items:[{ad_html:"<link rel=\"stylesheet\" type=\"text/css\"\n        href=\"https://d1jh54hwvti2y2.cloudfront.net/css/slick-carousel%401.8.1_slick.css\" />\n      <link rel=\"stylesheet\" type=\"text/css\"\n        href=\"https://d1jh54hwvti2y2.cloudfront.net/css/slick-carousel_1.8.1_slick-theme.min.css\" />\n      <style>\n        .content {\n          visibility: hidden;\n        }\n\n        .slick-list:before {\n          position: absolute;\n          top: 0;\n          content: '';\n          width: 50%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          z-index: 8;\n          left: 0;\n          margin-left: -250px;\n        }\n\n        .slick-list:after {\n          position: absolute;\n          top: 0;\n          content: '';\n          width: 50%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          z-index: 8;\n          right: 0;\n          margin-right: -250px;\n        }\n\n        .carousel.unit .slick-list:before {\n          position: absolute;\n          top: 0;\n          content: '';\n          width: 50%;\n          height: 100%;\n          background: white;\n          z-index: 8;\n          left: 0;\n          margin-left: -250px;\n        }\n\n        .carousel.unit .slick-list:after {\n          position: absolute;\n          top: 0;\n          content: '';\n          width: 50%;\n          height: 100%;\n          background: white;\n          z-index: 8;\n          right: 0;\n          margin-right: -250px;\n        }\n\n        .slick-dots {\n          width: 500px;\n          left: 50%;\n          margin-left: -250px;\n          bottom: 0;\n          padding-top: 20px;\n          text-align: center;\n          font-size: 0;\n          background: -webkit-gradient(linear, left top, left bottom, color-stop(0, transparent), to(rgba(0, 0, 0, 0.9)));\n          background: linear-gradient(to bottom, transparent 0, rgba(0, 0, 0, 0.9) 100%);\n        }\n\n        .slick-dots li {\n          width: 5px;\n          height: 15px;\n        }\n\n        .slick-next.slick-arrow {\n          left: 50%;\n          margin-left: 250px;\n          opacity: 1;\n          -webkit-transition: opacity 0.2s ease;\n          transition: opacity 0.2s ease;\n          width: 100%;\n          height: 100%;\n          z-index: 9;\n        }\n\n        .slick-prev.slick-arrow {\n          margin-left: -250px;\n          opacity: 1;\n          -webkit-transition: opacity 0.2s ease;\n          transition: opacity 0.2s ease;\n          width: 50%;\n          height: 100%;\n          z-index: 9;\n          left: 0;\n        }\n\n        .slick-prev.slick-arrow:before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          margin-top: -7.5px;\n          right: 5px;\n          display: block;\n          width: 15px;\n          height: 15px;\n          border-bottom: 3px solid #cfcfcf;\n          border-left: 3px solid #cfcfcf;\n          -webkit-transform: rotate(45deg);\n          transform: rotate(45deg);\n          opacity: 1;\n        }\n\n        .slick-prev.slick-arrow.hidden:before {\n          display: none;\n        }\n\n        .slick-next.slick-arrow:before {\n          content: '';\n          position: absolute;\n          top: 50%;\n          margin-top: -7.5px;\n          left: 5px;\n          display: block;\n          width: 15px;\n          height: 15px;\n          border-top: 3px solid #cfcfcf;\n          border-right: 3px solid #cfcfcf;\n          -webkit-transform: rotate(45deg);\n          transform: rotate(45deg);\n          opacity: 1;\n        }\n\n        .slick-next.slick-arrow.hidden:before {\n          display: none;\n        }\n\n        .slick-dots li button:before {\n          opacity: 1;\n          border: none;\n          border-radius: 50%;\n          padding: 0;\n          width: 7px;\n          height: 7px;\n          background: #ddd;\n          text-indent: 100%;\n          overflow: hidden;\n          cursor: pointer;\n          outline: none;\n        }\n\n        .slick-dots li.slick-active button:before {\n          opacity: 1;\n          background: #f36388;\n        }\n\n        .slick-dots.hover {\n          visibility: visible !important;\n          opacity: 1 !important;\n        }\n\n        .slick-dots.hidden {\n          transition: 0.4s;\n          visibility: hidden;\n          opacity: 0;\n        }\n      </style>\n\n      <div class=\"content\">\n        <div class=\"carousel slider\">\n          <div>\n            <a href=\"https://www.dmm.co.jp/digital/videoa/-/list/=/article=keyword/id=6565/sort=ranking/\" target=\"_top\">\n              <img class=\"image\" data-src=\"https://p.dmm.co.jp/p/bnr/digital/rotation/videoa_220915173721gentei.jpg\" />\n            </a>\n          </div>\n        </div>\n      </div>\n\n      <script type=\"text/javascript\" src=\"https://d1jh54hwvti2y2.cloudfront.net/js/jquery-3.5.1.min.js\"><\/script>\n      <script type=\"text/javascript\" src=\"https://d1jh54hwvti2y2.cloudfront.net/js/slick-carousel%401.8.1_slick.min.js\">\n      <\/script>\n      <script>\n        $(document).ready(function () {\n          const $slider = $('.carousel').slick({\n            autoplay: true,\n            autoplaySpeed: 7000,\n            arrows: true,\n            infinite: true,\n            centerMode: true,\n            dots: true,\n            variableWidth: true,\n            centerPadding: '60px',\n            slidesToShow: 1,\n            pauseOnFocus: false,\n            pauseOnHover: false,\n            pauseOnDotsHover: false,\n            dotsClass: 'slick-dots hidden',\n            prevArrow: '<button type=\"button\" class=\"slick-prev hidden\">Previous</button>',\n            nextArrow: '<button type=\"button\" class=\"slick-next hidden\">Next</button>',\n          });\n\n          $slider.on('beforeChange', function (event, slick, currentSlide, nextSlide) {\n            $('.slick-dots').addClass('hidden');\n          });\n          $('.carousel').hover(\n            function () {\n              $('.slick-dots').removeClass('hidden');\n              $('.slick-dots').addClass('hover');\n              $('.slick-prev').removeClass('hidden');\n              $('.slick-next').removeClass('hidden');\n            },\n            function () {\n              $('.slick-dots').addClass('hidden');\n              $('.slick-dots').removeClass('hover');\n              $('.slick-prev').addClass('hidden');\n              $('.slick-next').addClass('hidden');\n            }\n          );\n          $('.slick-next').on('click', function () {\n            $('.slick-dots').removeClass('hidden');\n          });\n          $('.slick-prev').on('click', function () {\n            $('.slick-dots').removeClass('hidden');\n          });\n          $('.slick-dots').on('click', function () {\n            $('.slick-dots').removeClass('hidden');\n          });\n\n          setTimeout(function () {\n            $('.carousel').fadeTo(100, 1);\n          }, 800);\n\n          setTimeout(function () {\n            $('.slick-dots').removeClass('hidden');\n          }, 2000);\n\n          // \n          const images = document.getElementsByClassName('image');\n          const total = images.length;\n          let count = 0;\n\n          Array.from(images).forEach((i) => {\n            const src = i.dataset.src;\n            const alt = i.dataset.alt;\n            i.setAttribute('src', src);\n            if (alt) i.setAttribute('alt', alt);\n            i.onload = () => {\n              count++;\n              if (count === total) {\n                $slider.slick('setPosition');\n                $('.content').css('visibility', 'visible');\n              }\n            };\n          });\n        });\n      <\/script>",adspot_key:t,begin:"2021-03-25 10:00:00",end:"2999-01-01 23:59:59",creative_width:0,creative_height:0,creative_template_id:19,creative_type:2,alternative_text:"custom-layout-"}]},r))}),{}),o=["223D697DAE183AA8DE4ECAF4751C2E85E2A9E4C72A203256ACDE04797DA6EF242EBA0F65BAB403A4FABF29D9B3AD37C159E20825E2CDE889080506EA85D63F32","D9AA0F203A63BDCEE7E67247725A7CDCC8BB4656F876F2598427F20C1FF266A1029D40931C91FC0AE2525F8B6BCDDDD580B6A25DE75D40754D648F3D1D294596","9DAB4D0E9E4EA277E801A14A7DB8AB26B501064B075509716D47C255A138F00327A9A51AB9E81AD91FD0980BD2B1400D2E081B21B6B73113C446E1615A6512EE","EFFD455033DF838BDF67629C0F9E12A1C7D5E113ADBEF8A3B796EF212E67F2A1BD10BEABFB4F70019281AF30B77C0B6A05182EDB37907B664BABCF15659E0375","55FD42D4B44A4A8BD0BD0C15E98EF8F1B0A955B975013B720AADD4EAB9EC31D42642A50676B7EBBF3FB7176DA01D1E3FC9F333526752BB813BB79A967DC7B647"].reduce((function(e,t){var r;return n(n({},e),((r={})[t]={items:[{ad_html:'<link rel="stylesheet" type="text/css"\n          href="https://d1jh54hwvti2y2.cloudfront.net/css/slick-carousel%401.8.1_slick.css" />\n        <link rel="stylesheet" type="text/css"\n          href="https://d1jh54hwvti2y2.cloudfront.net/css/slick-carousel_1.8.1_slick-theme.min.css" />\n        <style>\n          html,\n          body {\n            margin: 0;\n            padding: 0;\n          }\n\n          .slick-slider {\n            width: 100%;\n          }\n\n          .content {\n            visibility: hidden;\n            padding-bottom: calc(1rem + 6px);\n          }\n\n          .carousel {}\n\n          .image {\n            max-width: 320px;\n            width: 100%;\n            height: auto;\n            margin: 0 auto;\n          }\n\n          .imp-beacon {\n            display: none;\n          }\n\n          .slick-dots {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            position: absolute;\n            bottom: -1rem;\n            left: 0;\n            text-align: center;\n            -webkit-transition: all 0.3s ease;\n            transition: all 0.3s ease;\n            -webkit-transform-style: preserve-3d;\n            transform-style: preserve-3d;\n            width: 100%;\n            margin: 0;\n            overflow: hidden;\n            height: 18px;\n          }\n\n          .slick-dots li {\n            width: 20px;\n            height: 30px;\n            margin: 0;\n          }\n\n          .slick-dots li button {\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            padding: 0;\n          }\n\n          .slick-dots li button:before {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-4px, -4px);\n            opacity: 1;\n            border: none;\n            border-radius: 50%;\n            padding: 0;\n            width: 8px;\n            height: 8px;\n            background: #B0B0B0;\n            text-indent: 100%;\n            overflow: hidden;\n            cursor: pointer;\n            outline: none;\n          }\n\n          .slick-dots li.slick-active button:before {\n            opacity: 1;\n            background: #0877C9;\n          }\n\n          .slick-slide {\n            display: none;\n            float: left;\n            height: 100%;\n          }\n\n          .slick-dotted.slick-slider {\n            margin-bottom: 0;\n          }\n        </style>\n\n        <div class="content">\n          <div class="carousel slider">\n            <div>\n              <a href="https://www.dmm.co.jp/digital/videoa/-/list/=/article=keyword/id=6565/sort=ranking/" target="_top">\n                <img\n                  class="image"\n                  data-src="https://p.dmm.co.jp/p/sp/bnr/digital/d-lead/220915173721gentei.jpg"\n                  width="320"\n                  height="64"\n                />\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <script type="text/javascript" src="https://d1jh54hwvti2y2.cloudfront.net/js/jquery-3.5.1.min.js"><\/script>\n        <script type="text/javascript" src="https://d1jh54hwvti2y2.cloudfront.net/js/slick-carousel%401.8.1_slick.min.js">\n        <\/script>\n        <script>\n          $(document).ready(function () {\n            const $slider = $(".carousel").slick({\n              autoplay: true,\n              autoplaySpeed: 4000,\n              arrows: false,\n              infinite: true,\n              dots: true,\n              slidesToShow: 1,\n              pauseOnFocus: false,\n              pauseOnHover: false,\n              pauseOnDotsHover: false,\n            });\n\n            $slider.on(\n              "beforeChange",\n              function (event, slick, currentSlide, nextSlide) {\n                $(".slick-dots").addClass("hidden");\n              }\n            );\n\n            // \n            const images = document.getElementsByClassName("image");\n            const total = images.length;\n            let count = 0;\n\n            Array.from(images).forEach((i) => {\n              const src = i.dataset.src;\n              const alt = i.dataset.alt;\n              if (src) i.setAttribute("src", src);\n              if (alt) i.setAttribute("alt", alt);\n              i.onload = () => {\n                count++;\n                if (count === total) {\n                  $slider.slick("setPosition");\n                  $(".content").css("visibility", "visible");\n                }\n              };\n            });\n          });\n        <\/script>',adspot_key:t,begin:"2021-03-25 10:00:00",end:"2999-01-01 23:59:59",creative_width:0,creative_height:0,creative_template_id:20,creative_type:2,alternative_text:"custom-layout-SP__TOP_"}]},r))}),{});t.fillerAds=n(n({},r),o)},37:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PC_DIGITAL_SUNDAY_SALE_URL=t.PC_DIGITAL_SATURDAY_SALE_URL=t.PC_DIGITAL_FRIDAY_SALE_URL=t.PC_DIGITAL_THURSDAY_SALE_URL=t.PC_DIGITAL_WEDNSEDAY_SALE_URL=t.PC_DIGITAL_TUSEDAY_SALE_URL=t.PC_DIGITAL_MONDAY_SALE_URL=t.SP_PHOTO_FILLER_ADSPOT_KEY=t.SP_NOVEL_FILLER_ADSPOT_KEY=t.SP_BOOKS_FILLER_ADSPOT_KEY=t.SP_PHOTO_ADSPOT_KEY=t.SP_NOVEL_ADSPOT_KEY=t.SP_BOOKS_ADSPOT_KEY=t.PC_PHOTO_FILLER_ADSPOT_KEY=t.PC_NOVEL_FILLER_ADSPOT_KEY=t.PC_BOOKS_FILLER_ADSPOT_KEY=t.PC_PHOTO_ADSPOT_KEY=t.PC_NOVEL_ADSPOT_KEY=t.PC_BOOKS_ADSPOT_KEY=t.DEVICE_TYPE=t.FILLER_ENDPOINT=t.ENDPOINT=t.ENABLE_DATADOG=t.TARGET_TYPE=t.NODE_ENV=t.IFRAME_RESIZER_HOSTED_URL=t.TAG_NAME=t.ADSPOT_ID_ATTRIBUTE=void 0,t.ADSPOT_ID_ATTRIBUTE="s",t.TAG_NAME="dmm-c-banner-tags",t.IFRAME_RESIZER_HOSTED_URL="https://d1jh54hwvti2y2.cloudfront.net/js/iframeResizer.contentWindow.min.js",t.NODE_ENV="production",t.TARGET_TYPE="prd",t.ENABLE_DATADOG=!0,t.ENDPOINT="https://cn.dap.dmm.com/deliver",t.FILLER_ENDPOINT="https://d129a39a862w9z.cloudfront.net/filler.json",(n=t.DEVICE_TYPE||(t.DEVICE_TYPE={}))[n.PC=0]="PC",n[n.SP=1]="SP",n[n.ANY=2]="ANY",t.PC_BOOKS_ADSPOT_KEY="b11614501c471abc52707a3e72089932edd0b506bcf333ce56e1526d6ed5e90c25429d3d8c66378f6dca49ae2dfa0299ba37225d7ecc0347a03906f1722d4a6f",t.PC_NOVEL_ADSPOT_KEY="78ace89a43910784ad81b2db4a3779c7f7e325d436a6143bba8efa8c0b2ef4f5879f2f3e68a7e39e95e57e42369e53545e956674599a4a580af8e7091ab13d3c",t.PC_PHOTO_ADSPOT_KEY="d02b8fa53420d9e8728f365b0a353088194e01d1ff74232f5d65aa20a651ba529202a267c9cff55ff169c54ff76850c3681285c51d7898bad5dec749baebb5df",t.PC_BOOKS_FILLER_ADSPOT_KEY="c7b497b7b67b725e3b75dd7c055f6fe16bd359ad2deba1894e56fe72cbf4f557117f2e863701e6bc6afda401b58024b903164d23cd94ca0adcb9e4764501afaf",t.PC_NOVEL_FILLER_ADSPOT_KEY="a3a86fcd03950b546dfb9d142b0ce9c09decc34317cabdc589740500e67394eec23f9375fec288fcb17af38a7d3cad7ca0766ebd91624340a9421dd8e46a11a3",t.PC_PHOTO_FILLER_ADSPOT_KEY="2ccc2198437d844db4e830f8d459c84f83b98fbed60d729dafc0eb8f4b8daa6bd0598804c075b519a5d6c29a8d7c0020c49774a3e8cea81bbc518b0344d26d3c",t.SP_BOOKS_ADSPOT_KEY="37b2769d29912648a1ffa9b12619a0a66f23966a596f78d90c5af00d72ab41326231ef3fb3dba39135397f9cc192ec5067d1710c4bae190f8da7a30b975b41b8",t.SP_NOVEL_ADSPOT_KEY="741593985d83bb2293df6313207ff0737503b1b702da8afc324e27ca5ce2db03ce2c8b38a82b6fad1e3f72bf803782129fb32e181236308b376bde1fbe75502a",t.SP_PHOTO_ADSPOT_KEY="5ae8c40a36fdf09ba9058d0aeae1bf117e0c0fbb12e2f3facfd58f4d7b5b3b94933d345b140c90dce794e696f478acc0fa7215ea11867e7c0d1c69d7fe3a6cbd",t.SP_BOOKS_FILLER_ADSPOT_KEY="b346a436cd32518dbf9e89513f34664613c7af1b15e79de18f024fd5465e23890a16a3d144d8d6c223ff6e62318a2a57120c73668e5f4b7605172cedfd118e80",t.SP_NOVEL_FILLER_ADSPOT_KEY="2e65849ebd1191b9b02e1c5b5b02f58fc3e66272958821961c646bd4ccc7c42d9e55ed3f36cd7330b683f6d2b03191e574b5550e0c0756a060ef4ac5677b85b5",t.SP_PHOTO_FILLER_ADSPOT_KEY="9e866485d54a6d466d0a7422d4ae75bc7336a059dd4bab083a7bdb74a7c5c79f41cfba274ee5fd2f4cf15d281e427bc4c165950e02f3328e2ae16b1b2b6a63ba",t.PC_DIGITAL_MONDAY_SALE_URL="https://www.dmm.co.jp/digital/videoa/-/list/=/article=campaign/id=g,aV3,2JgrC3hrOy0LTd1OLZ1bWb2,2U/",t.PC_DIGITAL_TUSEDAY_SALE_URL="https://www.dmm.co.jp/digital/videoa/-/list/=/article=campaign/id=g,aV3,2JgrC3hrOy0LTd1OLZ1bWb2,y,/",t.PC_DIGITAL_WEDNSEDAY_SALE_URL="https://www.dmm.co.jp/digital/videoa/-/list/=/article=campaign/id=g,aV3,2JgrC3hrOy0LTd1OLZ1bWb2,2T/",t.PC_DIGITAL_THURSDAY_SALE_URL="https://www.dmm.co.jp/digital/videoa/-/list/=/article=campaign/id=g,aV3,2JgrC3hrOy0LTd1OLZ1bWb2,O,/",t.PC_DIGITAL_FRIDAY_SALE_URL="https://www.dmm.co.jp/digital/videoa/-/list/=/article=campaign/id=g,aV3,2JgrC3hrOy0LTd1OLZ1bWb1ti4/",t.PC_DIGITAL_SATURDAY_SALE_URL="https://www.dmm.co.jp/digital/videoa/-/list/=/article=campaign/id=g,aV3,2JgrC3hrOy0LTd1OLZ1bWb2,O*/",t.PC_DIGITAL_SUNDAY_SALE_URL="https://www.dmm.co.jp/digital/videoa/-/list/=/article=campaign/id=g,aV3,2JgrC3hrOy0LTd1OLZ1bWb2,y8/"},367:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AdsController=void 0;var o=n(798),i=n(271),a=n(695),s=function(){function e(){this.banners=[]}return e.prototype.init=function(){this.banners=[]},e.prototype.deliver=function(e,t){var n=this;if(o.Ads.isValid(e.ad)){var s=a.Utils.getLayout(e.ad);if(s){var c=new s.layout(e,t);c.append().render().then((function(){return n._onRenderSuccess(c)})).catch((function(){return n._onRenderError(c)}))}else i.Log.error("[AdsController] Unknown layout is detected : ".concat(e.ad.ads_id," / ").concat(e.ad.adspot_key),r(r({},e.ad),{to_slo_metrics:!0}))}else i.Log.error("[AdsController] Invalid ad is passed : ".concat(e.ad.ads_id," / ").concat(e.ad.adspot_key),r(r({},e.ad),{to_slo_metrics:!0}))},e.prototype._onRenderSuccess=function(e){this.banners.push(e)},e.prototype._onRenderError=function(e){e.clearTag()},e}();t.AdsController=s},60:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DeliverJsClient=void 0;var i=n(37),a=n(798),s=n(917),c=n(349),u=n(271),l=n(564),d=n(462),f=n(367),p=function(){function e(){var e=this;this.ads=[],this._observer=(0,d.createObserver)((function(t,n){return e._onIntersect(t,n)})),this._adsController=new f.AdsController,this._props={}}return Object.defineProperty(e.prototype,"isRendered",{get:function(){return e._isRendered},set:function(t){e._isRendered=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"banners",{get:function(){return this._adsController.banners},enumerable:!1,configurable:!0}),e.prototype.getAdByAdspotKey=function(e){var t;return null!==(t=this.ads.find((function(t){return t.ad.adspot_key===e})))&&void 0!==t?t:null},e.prototype.getBannerByAdspotKey=function(e){var t;return null!==(t=this.banners.find((function(t){return t.ad.adspot_key===e})))&&void 0!==t?t:null},e.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this.isRendered||0===(t=e?s.Adspots.getByElements(e):s.Adspots.getByTagName(i.TAG_NAME)).length?[2]:(u.Log.info("[DeliverJsClient] Render event occured",{to_slo_metrics:!0,retain:!0}),this.isRendered=!0,this.dispose(),this._init(),[4,this._handleAds(t)]);case 1:return n.sent(),[2]}}))}))},e.prototype.dispose=function(){this.banners.forEach((function(e){e.dispose&&e.dispose(),e.clearTag()}))},e.prototype._init=function(){this._props={}},e.prototype._handleAds=function(e){return r(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,a.Ads.get(e,(function(){}))];case 1:return(t=r.sent()).length>0?(this._setAds(t),[3,4]):[3,2];case 2:return[4,c.FillerAds.createAds(e)];case 3:n=r.sent(),this._setAds(n),r.label=4;case 4:return[2]}}))}))},e.prototype._setAds=function(e){var t=this;0!==e.length&&(this._adsController.init(),this.ads=e,this.ads.forEach((function(e){return t._checkInitialVisibility(e.element)})))},e.prototype._checkInitialVisibility=function(e){(0,l.isHidden)(e)?this._deliver(e):this._observer.observe(e)},e.prototype._onIntersect=function(e,t){var n=e.target;this._deliver(n),t.unobserve(n)},e.prototype._deliver=function(e){var t=s.Adspots.getAdspotKey(e),n=this.ads.find((function(e){return e.ad.adspot_key===t}));n&&this._adsController.deliver(a.Ads.initialize(n),this._props)},e._isRendered=!1,e}();t.DeliverJsClient=p},915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layouts=void 0;var r=n(37),o=n(897),i=n(572),a=n(543),s=n(356),c=n(579),u=n(38),l=n(720),d=n(233),f=n(705),p=n(69);t.layouts=[{name:"PC/SP ",type:r.DEVICE_TYPE.ANY,layout:i.DigitalCarouselLayout,condition:function(e){return 19===e.creative_template_id||20===e.creative_template_id}},{name:"LP",type:r.DEVICE_TYPE.ANY,layout:l.ReductionFestivalCustomLayout,condition:function(e){return 2===e.creative_type&&33===e.creative_template_id}},{name:"",type:r.DEVICE_TYPE.ANY,layout:o.CustomLayout,condition:function(e){return 24===e.size_id}},{name:"PC ",type:r.DEVICE_TYPE.PC,layout:c.PcBooksFeedLayout,condition:function(e){return 1===e.creative_type&&e.has_feed&&8===e.creative_template_id}},{name:"SP ",type:r.DEVICE_TYPE.SP,layout:f.SpBooksFeedLayout,condition:function(e){return 1===e.creative_type&&e.has_feed&&9===e.creative_template_id}},{name:"",type:r.DEVICE_TYPE.ANY,layout:a.NormalLayout,condition:function(e){return 1===e.creative_type}},{name:"PC ",type:r.DEVICE_TYPE.PC,layout:s.PcBooksCarouselLayout,condition:function(e){return 2===e.creative_type&&5===e.creative_template_id}},{name:"SP + ",type:r.DEVICE_TYPE.SP,layout:d.SpBooksCarouselLayout,condition:function(e){return 2===e.creative_type&&6===e.creative_template_id}},{name:"PC 3",type:r.DEVICE_TYPE.PC,layout:u.PcMonoRectangleLayout,condition:function(e){return 2===e.creative_type&&11===e.creative_template_id}},{name:"Template",type:r.DEVICE_TYPE.ANY,layout:p.Template,condition:function(){return!1}}]},573:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(519),o(n(37),t),o(n(247),t),o(n(60),t)},91:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Banner=void 0;var i=n(37),a=n(271),s=n(564),c=function(){function e(e,t){var n,r;this.iframe=(0,s.createIframe)(),this._options={isCustomLayout:!1,adHtml:function(e){return e.ad_html}},this.ad=e.ad,this.tag=e.element,this.ad.option_tag&&(this.ad.ad_html+=this.ad.option_tag),t&&(this._options.isCustomLayout=null!==(n=t.isCustomLayout)&&void 0!==n?n:this._options.isCustomLayout,this._options.adHtml=null!==(r=t.adHtml)&&void 0!==r?r:this._options.adHtml,this._options.iframeWidth=t.iframeWidth,this._options.iframeHeight=t.iframeHeight)}return e.prototype.append=function(){var e=this.iframe;this.clearTag(),this.tag.appendChild(e);var t=(0,s.getDocumentFromIframe)(e);return t&&(this.document=t),this},e.prototype.clearTag=function(){this.tag.style.display="block",(0,s.clearChildElements)(this.tag)},e.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t=this;return o(this,(function(n){return[2,this._createPromise((function(){if(!t.document)return t.emit({options:{isCanceled:!0}});t._setIframeSize(),t._injectAdHtmls(),e()})).then((function(){t._options.isCustomLayout||(0,s.execScripts)(t.document)}))]}))}))},e.prototype._createPromise=function(e){var t=this;return new Promise((function(n,r){t._resolve=n,t._reject=r,e()}))},e.prototype._setIframeSize=function(){this._options.iframeWidth&&(this.iframe.width=this._options.iframeWidth(this.ad)),this._options.iframeHeight&&(this.iframe.height=this._options.iframeHeight(this.ad))},e.prototype._injectAdHtmls=function(){this._options.isCustomLayout?this.iframe.srcdoc=this._adHtml(this.ad)+'<script type="text/javascript" src="'.concat(i.IFRAME_RESIZER_HOSTED_URL,'"><\/script>'):this.document.body.innerHTML=this._adHtml(this.ad)},e.prototype._adHtml=function(e){return this._options.adHtml(e)},e.prototype.emit=function(e){if(e.log){var t=e.log,n=t.logLevel,r=t.message,o=t.data;switch(n){case"info":a.Log.info(r,o);break;case"warn":a.Log.warn(r,o);break;case"error":a.Log.error(r,o)}}if(e.options){var i=e.options,s=i.isCanceled,c=i.isDone;s?this._reject():c&&this._resolve()}},e}();t.Banner=c},897:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomLayout=void 0;var s=n(303),c=function(e){function t(t){var n=e.call(this,t,{isCustomLayout:!0})||this;return n._components=[],n}return o(t,e),t.prototype.render=function(){return i(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){0!==this.ad.child_ads.length?(this._createIframeResizer(),this.emit({options:{isDone:!0}})):this.emit({options:{isCanceled:!0}})},t.prototype._createIframeResizer=function(){this._components=(0,s.iframeResizer)({autoResize:!0,checkOrigin:!1},this.iframe)},t.prototype.dispose=function(){this._components.forEach((function(e){return e.iFrameResizer.close()})),this._components=[]},t}(n(91).Banner);t.CustomLayout=c},572:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.DigitalCarouselLayout=void 0;var s=n(303),c=n(695),u=function(e){function t(t){var n=e.call(this,t,{isCustomLayout:!0,adHtml:function(e){return n._replacePerDayDigitalSaleUrl(e.ad_html)}})||this;return n._components=[],n}return o(t,e),t.prototype._replacePerDayDigitalSaleUrl=function(e){var t=c.Utils.filterPcDigitalPerDaySaleUrl(new Date);return e.replace(/https%3A%2F%2Fwww.dmm.co.jp%2Fdigital%2Fvideoa%2F-%2Fbanner_from_daily_sale%2F/g,t)},t.prototype.render=function(){return i(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){this._createIframeResizer(),this.emit({options:{isDone:!0}})},t.prototype._createIframeResizer=function(){this._components=(0,s.iframeResizer)({autoResize:!0,checkOrigin:!1},this.iframe)},t.prototype.dispose=function(){this._components.forEach((function(e){return e.iFrameResizer.close()})),this._components=[]},t}(n(91).Banner);t.DigitalCarouselLayout=u},543:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.NormalLayout=void 0;var s=n(479),c=function(e){function t(t){return e.call(this,t,{iframeWidth:function(e){return"".concat(e.creative_width,"px")},iframeHeight:function(e){return"".concat(e.creative_height,"px")}})||this}return o(t,e),t.prototype.render=function(){return i(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){var e=this.iframe;s.isSp&&(this.tag.style.cssText="\n        display: block;\n        position: relative;\n        width: 100%;\n        height: 0;\n        overflow: hidden;\n        padding-top: ".concat(this.ad.creative_height/this.ad.creative_width*100,"%;\n      "),e.width="100%",e.height="100%",e.style.cssText="\n        position: absolute;\n        inset: 0;\n      "),this.emit({options:{isDone:!0}})},t}(n(91).Banner);t.NormalLayout=c},356:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PcBooksCarouselLayout=void 0;var c=n(798),u=n(917),l=n(349),d=n(695),f=function(e){function t(t){return e.call(this,t,{iframeHeight:function(e){return"".concat(e.creative_height,"px")}})||this}return o(t,e),t.prototype.render=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){return a(this,void 0,void 0,(function(){var e,t,n,r;return s(this,(function(o){switch(o.label){case 0:return e=Array.from(this.document.body.getElementsByTagName("span")),t=u.Adspots.getByElements(e),[4,c.Ads.get(t)];case 1:return(n=o.sent()).length>0?(this._insertCarouselItems(n),[3,4]):[3,2];case 2:return[4,this._getFillerAds()];case 3:0===(r=o.sent()).length&&this.emit({log:{logLevel:"warn",message:"[PcBooksCarouselLayout] No filler ads found : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:this.ad}}),this._insertCarouselItems(r),o.label=4;case 4:return[2]}}))}))},t.prototype._getFillerAds=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,l.FillerAds.getAdDatas(u.Adspots.getPcBooksFillerAdspotKey(this.ad.adspot_key),(function(){e.emit({log:{logLevel:"error",message:"[PcBooksCarouselLayout] Error requesting filler ads : ".concat(e.ad.ads_id," / ").concat(e.ad.adspot_key),data:i(i({},e.ad),{to_slo_metrics:!0})}})}))];case 1:return[2,t.sent().map((function(e){return{ad:e}}))]}}))}))},t.prototype._insertCarouselItems=function(e){if(0!==e.length){var t=this.document.body.querySelector(".carousel");if(t){var n=this._createAdHtmls(e),r=n.adHtmls,o=n.optionTags;t.innerHTML=r,this.document.body.insertAdjacentHTML("beforeend",o),this.emit({options:{isDone:!0}})}else this.emit({log:{logLevel:"error",message:"[PcBooksCarouselLayout] Could not find .carousel element : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:i(i({},this.ad),{to_slo_metrics:!0})},options:{isCanceled:!0}})}else this.emit({options:{isCanceled:!0}})},t.prototype._createAdHtmls=function(e){var t=[],n=[];return e.forEach((function(e){var r=e.ad;r.option_tag&&n.push(r.option_tag);var o=d.Utils.getPcBooksGaEventName(r.adspot_key||""),i=d.Utils.normalizeAdHtmlByEventName(r,o,"PC");t.push(i)})),{adHtmls:t.join(""),optionTags:n.join("")}},t}(n(91).Banner);t.PcBooksCarouselLayout=f},579:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PcBooksFeedLayout=void 0;var c=n(917),u=n(349),l=n(695),d=function(e){function t(t){return e.call(this,t,{adHtml:function(e){var t=l.Utils.getPcBooksGaEventName(e.adspot_key);return e.ad_html.replace(/{=event_name}/g,t)},iframeHeight:function(e){return"".concat(e.creative_height,"px")}})||this}return o(t,e),t.prototype.render=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){return a(this,void 0,void 0,(function(){var e,t,n;return s(this,(function(r){switch(r.label){case 0:return 0!==this.ad.feed_items.length?[3,2]:(e=this.document.body.querySelector(".carousel"))?[4,this._getFillerAdDatas()]:(this.emit({log:{logLevel:"error",message:"[PcBooksFeedLayout] Could not find .carousel element : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:i(i({},this.ad),{to_slo_metrics:!0})},options:{isCanceled:!0}}),[2]);case 1:if(0===(t=r.sent()).length)return this.emit({log:{logLevel:"warn",message:"[PcBooksFeedLayout] No filler ads found : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:this.ad},options:{isCanceled:!0}}),[2];n=t.map((function(e){return e.ad_html})).join(""),e.innerHTML=n,r.label=2;case 2:return this.emit({options:{isDone:!0}}),[2]}}))}))},t.prototype._getFillerAdDatas=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,u.FillerAds.getAdDatas(c.Adspots.getPcBooksFillerAdspotKey(this.ad.adspot_key),(function(){e.emit({log:{logLevel:"error",message:"[PcBooksFeedLayout] Error requesting filler ads : ".concat(e.ad.ads_id," / ").concat(e.ad.adspot_key),data:i(i({},e.ad),{to_slo_metrics:!0})}})}))];case 1:return[2,t.sent()]}}))}))},t}(n(91).Banner);t.PcBooksFeedLayout=d},38:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.PcMonoRectangleLayout=void 0;var c=n(798),u=n(917),l=function(e){function t(t){return e.call(this,t,{iframeWidth:function(e){return"".concat(e.creative_width,"px")}})||this}return o(t,e),t.prototype.render=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){return a(this,void 0,void 0,(function(){var e,t,n,r=this;return s(this,(function(o){switch(o.label){case 0:return e=Array.from(this.document.body.getElementsByTagName("span")),t=u.Adspots.getByElements(e),[4,c.Ads.get(t,(function(){r.emit({log:{logLevel:"error",message:"[PcMonoRectangleLayout] Error requesting ad : ".concat(r.ad.ads_id," / ").concat(r.ad.adspot_key),data:i(i({},r.ad),{to_slo_metrics:!0})}})}))];case 1:return n=o.sent(),this._insertRectangleItems(n),[2]}}))}))},t.prototype._insertRectangleItems=function(e){if(0!==e.length){var t=this.document.body.querySelector(".content");if(t){var n=this._createAdHtmls(e),r=n.adHtmls,o=n.optionTags;t.innerHTML=r,this.document.body.insertAdjacentHTML("beforeend",o),this.iframe.height="".concat(this._calcIframeHeight(this.ad,e.length),"px"),this.emit({options:{isDone:!0}})}else this.emit({log:{logLevel:"error",message:"[PcMonoRectangleLayout] Could not find .content element : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:i(i({},this.ad),{to_slo_metrics:!0})},options:{isCanceled:!0}})}else this.emit({options:{isCanceled:!0}})},t.prototype._createAdHtmls=function(e){var t=[],n=[];return e.forEach((function(e){var r=e.ad;r.option_tag&&n.push(r.option_tag),t.push(r.ad_html)})),{adHtmls:t.join(""),optionTags:n.join("")}},t.prototype._calcIframeHeight=function(e,t){return(e.creative_height+6)*t},t}(n(91).Banner);t.PcMonoRectangleLayout=l},720:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReductionFestivalCustomLayout=void 0;var s=n(303),c=function(e){function t(t){var n=e.call(this,t,{isCustomLayout:!0})||this;return n._components=[],n}return o(t,e),t.prototype.render=function(){return i(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){this._createIframeResizer(),this.emit({options:{isDone:!0}})},t.prototype._createIframeResizer=function(){this._components=(0,s.iframeResizer)({autoResize:!0,checkOrigin:!1},this.iframe)},t.prototype.dispose=function(){this._components.forEach((function(e){return e.iFrameResizer.close()})),this._components=[]},t}(n(91).Banner);t.ReductionFestivalCustomLayout=c},233:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpBooksCarouselLayout=void 0;var c=n(798),u=n(917),l=n(349),d=n(695),f=function(e){function t(t){var n=e.call(this,t,{iframeHeight:function(e){return"".concat(n._calcIframeHeight(e),"px")}})||this;return n}return o(t,e),t.prototype._calcIframeHeight=function(e){return window.innerWidth*e.creative_height/e.creative_width+6+(window.innerWidth/2-8)*e.creative_height/e.creative_width+6},t.prototype.render=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){return a(this,void 0,void 0,(function(){var e,t,n,r;return s(this,(function(o){switch(o.label){case 0:return e=Array.from(this.document.body.getElementsByTagName("span")),t=u.Adspots.getByElements(e),[4,c.Ads.get(t)];case 1:return(n=o.sent()).length>0?(this._insertCarouselItems(n),[3,4]):[3,2];case 2:return[4,this._getFillerAds()];case 3:0===(r=o.sent()).length&&this.emit({log:{logLevel:"warn",message:"[SpBooksCarouselLayout] No filler ads found : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:this.ad}}),this._insertCarouselItems(r),o.label=4;case 4:return[2]}}))}))},t.prototype._getFillerAds=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,l.FillerAds.getAdDatas(u.Adspots.getSpBooksFillerAdspotKey(this.ad.adspot_key),(function(){return e.emit({log:{logLevel:"error",message:"[SpBooksCarouselLayout] Error requesting filler ads : ".concat(e.ad.ads_id," / ").concat(e.ad.adspot_key),data:i(i({},e.ad),{to_slo_metrics:!0})}})}))];case 1:return[2,t.sent().map((function(e){return{ad:e}}))]}}))}))},t.prototype._insertCarouselItems=function(e){if(0!==e.length){var t=this.document.body.querySelector(".carousel"),n=this.document.body.querySelector(".pickup");if(t)if(n){var r=this._createAdHtmls(e),o=r.carouselAdHtmls,a=r.pickupAdHtmls,s=r.optionTags;t.innerHTML=o,t.style.height="".concat(window.innerWidth*this.ad.creative_height/this.ad.creative_width,"px"),n.innerHTML=a,this.document.body.insertAdjacentHTML("beforeend",s),this.emit({options:{isDone:!0}})}else this.emit({log:{logLevel:"error",message:"[SpBooksCarouselLayout] Could not find .pickup element : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:i(i({},this.ad),{to_slo_metrics:!0})},options:{isCanceled:!0}});else this.emit({log:{logLevel:"error",message:"[SpBooksCarouselLayout] Could not find .carousel element : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:i(i({},this.ad),{to_slo_metrics:!0})},options:{isCanceled:!0}})}else this.emit({options:{isCanceled:!0}})},t.prototype._createAdHtmls=function(e){var t=this,n=[],r=[],o=[];return e.forEach((function(e,i){var a=e.ad;if(a.option_tag&&o.push(a.option_tag),t._isPickup(i)){var s=d.Utils.getSpBooksGaEventName(a.adspot_key||"",!0),c=d.Utils.normalizeAdHtmlByEventName(a,s,"SP");r.push(c)}else s=d.Utils.getSpBooksGaEventName(a.adspot_key||"",!1),c=d.Utils.normalizeAdHtmlByEventName(a,s,"SP"),n.push(c)})),{carouselAdHtmls:n.join(""),pickupAdHtmls:r.join(""),optionTags:o.join("")}},t.prototype._isPickup=function(e){return 1===e||2===e},t}(n(91).Banner);t.SpBooksCarouselLayout=f},705:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},u=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SpBooksFeedLayout=void 0;var l=n(917),d=n(349),f=n(695),p=n(407),h=function(e){function t(t){var n=e.call(this,t,{adHtml:function(e){var t=f.Utils.getPcBooksGaEventName(e.adspot_key);return e.ad_html.replace(/{=event_name}/g,t)},iframeHeight:function(e){return"".concat(n._calcIframeHeight(e),"px")}})||this;return n}return o(t,e),t.prototype._calcIframeHeight=function(e){return window.innerWidth*e.creative_height/e.creative_width+6+(window.innerWidth/2-8)*e.creative_height/e.creative_width+6},t.prototype.render=function(){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){var e=this.document.body.querySelector(".carousel");e?this.ad.feed_items.length>0?this._setupCarousel(e):this._insertFillers(e):this.emit({log:{logLevel:"error",message:"[SpBooksFeedLayout] Could not find .carousel element : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:i(i({},this.ad),{to_slo_metrics:!0})},options:{isCanceled:!0}})},t.prototype._setupCarousel=function(e){e.style.height="".concat(window.innerWidth*this.ad.creative_height/this.ad.creative_width,"px"),this.emit({options:{isDone:!0}})},t.prototype._insertFillers=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,a;return s(this,(function(s){switch(s.label){case 0:return(t=this.document.body.querySelector(".pickup"))?[4,this._getFillerAdDatas()]:(this.emit({log:{logLevel:"error",message:"[SpBooksCarouselLayout] Could not find .pickup element : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:i(i({},this.ad),{to_slo_metrics:!0})},options:{isCanceled:!0}}),[2]);case 1:return 0===(n=s.sent()).length?(this.emit({log:{logLevel:"warn",message:"[SpBooksFeedLayout] No filler ads found : ".concat(this.ad.ads_id," / ").concat(this.ad.adspot_key),data:this.ad},options:{isCanceled:!0}}),[2]):(r=this._createFillerAdHtmls(n),o=r.carouselAdHtml,a=r.pickupAdHtml,e.innerHTML=o,e.style.height="".concat(window.innerWidth*this.ad.creative_height/this.ad.creative_width,"px"),t.innerHTML=a,this.emit({options:{isDone:!0}}),[2])}}))}))},t.prototype._getFillerAdDatas=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,d.FillerAds.getAdDatas(l.Adspots.getSpBooksFillerAdspotKey(this.ad.adspot_key),(function(){e.emit({log:{logLevel:"error",message:"[SpBooksFeedLayout] Error requesting filler ads : ".concat(e.ad.ads_id," / ").concat(e.ad.adspot_key),data:i(i({},e.ad),{to_slo_metrics:!0})}})}))];case 1:return[2,t.sent()]}}))}))},t.prototype._createFillerAdHtmls=function(e){var t=e.filter((function(e){return"carousel"===e.location}));t=(0,p.shuffleArray)(t).slice(0,5);var n=e.filter((function(e){return"pickup"===e.location}));return n=(0,p.shuffleArray)(n).slice(0,2),{carouselAdHtml:t.slice(0,1).map((function(e){return e.ad_html})).join(""),pickupAdHtml:u(u([],c(n),!1),c(t.slice(1,5)),!1).map((function(e){return e.ad_html})).join("")}},t}(n(91).Banner);t.SpBooksFeedLayout=h},69:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Template=void 0;var s=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){return i(this,void 0,void 0,(function(){var t=this;return a(this,(function(n){return[2,e.prototype.render.call(this,(function(){return t._render()}))]}))}))},t.prototype._render=function(){this.emit({options:{isDone:!0}})},t}(n(91).Banner);t.Template=s},291:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},83:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},428:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},247:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(291),t),o(n(94),t),o(n(83),t),o(n(428),t)},519:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(337);var r=n(37),o=n(60),i=n(271);r.ENABLE_DATADOG&&i.Log.enableDatadog();var a=function(){var e,t;void 0===window.deliverJsClient&&(window.deliverJsClient=new o.DeliverJsClient),(null===(e=window.DMM_C_SDK_OPTIONS)||void 0===e?void 0:e.isSpa)||null===(t=window.deliverJsClient)||void 0===t||t.render()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a()},798:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ads=void 0;var i=n(37),a=n(433),s=n(917),c=function(){function e(){}return e.get=function(e,t){return r(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return n=e.map((function(e){return e.key})),[4,this.getAdDatas(n).catch((function(e){return t&&t(e)}))];case 1:return(r=o.sent())&&r.items&&0!==r.items.length?(i=r.items.map((function(t){var n;return{element:null===(n=e.find((function(e){return s.Adspots.getAdspotKey(e.element)===t.adspot_key})))||void 0===n?void 0:n.element,ad:t}})),[2,i]):[2,[]]}}))}))},e.getAdDatas=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s;return o(this,(function(o){return t=i.ENDPOINT||"",n=new URLSearchParams(((s={})[i.ADSPOT_ID_ATTRIBUTE]=e.join(","),s)),r="".concat(t,"?").concat(n),[2,(0,a.fetchClient)(r,{credentials:"include",cache:"no-cache",mode:"cors"})]}))}))},e.isValid=function(e){return void 0!==e.creative_width&&void 0!==e.creative_height},e.initialize=function(e){var t=e.ad;return t.ad_html||(t.ad_html=""),t.alternative_text||(t.alternative_text=""),t.option_tag||(t.option_tag=""),t.feed_items||(t.feed_items=[]),t.child_ads||(t.child_ads=[]),e},e}();t.Ads=c},917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Adspots=void 0;var r=n(37),o=function(){function e(){}return e.getByTagName=function(e){var t=Array.from(document.querySelectorAll(".".concat(e)));return this.getByElements(t)},e.getByElements=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.getAdspotKey(e);r&&n.push({key:r,element:e})})),n},e.getAdspotKey=function(e){return e.getAttribute(r.ADSPOT_ID_ATTRIBUTE)},e.getPcBooksFillerAdspotKey=function(e){var t="";switch(e){case r.PC_BOOKS_FILLER_ADSPOT_KEY:t=r.PC_BOOKS_ADSPOT_KEY;break;case r.PC_NOVEL_FILLER_ADSPOT_KEY:t=r.PC_NOVEL_ADSPOT_KEY;break;case r.PC_PHOTO_FILLER_ADSPOT_KEY:t=r.PC_PHOTO_ADSPOT_KEY}return t},e.getSpBooksFillerAdspotKey=function(e){var t="";switch(e){case r.SP_BOOKS_FILLER_ADSPOT_KEY:t=r.SP_BOOKS_ADSPOT_KEY;break;case r.SP_NOVEL_FILLER_ADSPOT_KEY:t=r.SP_NOVEL_ADSPOT_KEY;break;case r.SP_PHOTO_FILLER_ADSPOT_KEY:t=r.SP_PHOTO_ADSPOT_KEY}return t},e}();t.Adspots=o},349:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FillerAds=void 0;var a=n(37),s=n(772),c=n(407),u=n(433),l=function(){function e(){}return e.get=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){return e=a.FILLER_ENDPOINT||"",[2,(0,u.fetchClient)(e,{cache:"no-cache",mode:"cors"}).then((function(e){return r(r({},e),s.fillerAds)})).catch((function(){return s.fillerAds}))]}))}))},e.getAdDatas=function(e,t){return o(this,void 0,void 0,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:return[4,this.get().catch((function(e){return t&&t(e)}))];case 1:return(n=o.sent())?(r=this.filter(n,e),[2,(0,c.shuffleArray)(r).slice(0,7)]):[2,[]]}}))}))},e.isValid=function(e){if(e.begin&&e.end){var t=new Date,n=new Date("".concat(e.begin.replace(/\s/,"T"),"+09:00")),r=new Date("".concat(e.end.replace(/\s/,"T"),"+09:00"));return t>=n&&r>=t}return!0},e.filter=function(e,t){var n,r=this,o=(null===(n=e[t])||void 0===n?void 0:n.items)||[];return 0===o.length?[]:o.filter((function(e){return r.isValid(e)}))},e.createAds=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(o){switch(o.label){case 0:return[4,this.get()];case 1:return t=o.sent(),n=[],e.forEach((function(e){var o=e.key,i=e.element,a=t[o];a&&a.items&&a.items.forEach((function(e){n.push({element:i,ad:r(r({},{}),e)})}))})),[2,n]}}))}))},e}();t.FillerAds=l},271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;var r=n(200),o=n(37),i=function(){function e(){}return Object.defineProperty(e,"log",{get:function(){return this.isPrd?r.datadogLogs.logger:console},enumerable:!1,configurable:!0}),e.enableDatadog=function(){this.isPrd=!0,r.datadogLogs.init({clientToken:"pub14556dcf747ce2f6c5795e060fb8e335",site:"datadoghq.com",forwardErrorsToLogs:!1,sampleRate:100,service:"dmm-adserver-neo-js",env:o.TARGET_TYPE,beforeSend:function(e){return!e.http}})},e.error=function(e,t){this.log.error(e,t)},e.warn=function(e,t){this.log.warn(e,t)},e.info=function(e,t){this.log.info(e,t)},e.isPrd=!1,e}();t.Log=i},695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var r=n(37),o=n(915),i=function(){function e(){}return e.getLayout=function(e){var t;return null!==(t=o.layouts.find((function(t){return t.condition(e)})))&&void 0!==t?t:null},e.normalizeAdHtmlByEventName=function(e,t,n){(null==e?void 0:e.ad_html)||(e.ad_html=""),(null==e?void 0:e.alternative_text)||(e.alternative_text="");var r=e.ad_html.replace(/{=event_name}/g,t);return(r=r.replace(/{=device_name}/g,n)).replace(/{=alt_text}/g,null==e?void 0:e.alternative_text)},e.getPcBooksGaEventName=function(e){var t="";switch(e){case r.PC_BOOKS_ADSPOT_KEY:t="r18top_rotationbanner_book";break;case r.PC_NOVEL_ADSPOT_KEY:t="r18novel_rotationbanner_book";break;case r.PC_PHOTO_ADSPOT_KEY:t="r18photo_rotationbanner_book";break;default:t="r18top_rotationbanner_book"}return t},e.getSpBooksGaEventName=function(e,t){var n="";switch(e){case r.SP_BOOKS_ADSPOT_KEY:n=t?"r18top_rotationunderbanner_book":"r18top_rotationbanner_book";break;case r.SP_NOVEL_ADSPOT_KEY:n="r18novel_rotationbanner_book",n=t?"r18novel_rotationunderbanner_book":"r18novel_rotationbanner_book";break;case r.SP_PHOTO_ADSPOT_KEY:n=t?"r18photo_rotationunderbanner_book":"r18photo_rotationbanner_book";break;default:n=t?"r18top_rotationunderbanner_book":"r18top_rotationbanner_book"}return n},e.filterPcDigitalPerDaySaleUrl=function(e){var t=e.getDay(),n=e.getHours(),o="";switch(t){case 0:o=n>=12?r.PC_DIGITAL_SUNDAY_SALE_URL:r.PC_DIGITAL_SATURDAY_SALE_URL;break;case 1:o=n>=12?r.PC_DIGITAL_MONDAY_SALE_URL:r.PC_DIGITAL_SUNDAY_SALE_URL;break;case 2:o=n>=12?r.PC_DIGITAL_TUSEDAY_SALE_URL:r.PC_DIGITAL_MONDAY_SALE_URL;break;case 3:o=n>=12?r.PC_DIGITAL_WEDNSEDAY_SALE_URL:r.PC_DIGITAL_TUSEDAY_SALE_URL;break;case 4:o=n>=12?r.PC_DIGITAL_THURSDAY_SALE_URL:r.PC_DIGITAL_WEDNSEDAY_SALE_URL;break;case 5:o=n>=12?r.PC_DIGITAL_FRIDAY_SALE_URL:r.PC_DIGITAL_THURSDAY_SALE_URL;break;case 6:o=n>=12?r.PC_DIGITAL_SATURDAY_SALE_URL:r.PC_DIGITAL_FRIDAY_SALE_URL}return o},e}();t.Utils=i},407:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=void 0,t.shuffleArray=function(e){for(var t=r([],n(e),!1),o=t.length-1;o>=0;o--){var i=Math.floor(Math.random()*(o+1)),a=t[o],s=t[i];a&&(t[i]=a),s&&(t[o]=s)}return t}},479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPC=t.isSp=t.isStandalone=t.isMobile=t.isiPad=t.isiPhone=t.isAndroid=t.isElectron=t.isEdgeLegacyWebView=t.isWebkitWebView=t.isSafari=t.isChrome=t.isWebKit=t.isFirefox=void 0;var n=navigator.userAgent;t.isFirefox=n.indexOf("Firefox")>=0,t.isWebKit=n.indexOf("AppleWebKit")>=0,t.isChrome=n.indexOf("Chrome")>=0,t.isSafari=!t.isChrome&&n.indexOf("Safari")>=0,t.isWebkitWebView=!t.isChrome&&!t.isSafari&&t.isWebKit,t.isEdgeLegacyWebView=n.indexOf("Edge/")>=0&&n.indexOf("WebView/")>=0,t.isElectron=n.indexOf("Electron/")>=0,t.isAndroid=n.indexOf("Android")>=0,t.isiPhone=n.indexOf("iPhone")>=0,t.isiPad=n.indexOf("iPad")>=0,t.isMobile=n.indexOf("Mobile")>=0,t.isStandalone=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,t.isSp=t.isiPhone||t.isiPad||t.isAndroid,t.isPC=!t.isSp},564:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};function o(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t,n){var r=e.parentNode;if(r){var o=e.ownerDocument.createElement("script");o.id=e.id,o.type=e.type,o.defer=!0,e.text?o.text=e.text:e.src&&(o.src=e.src),r.replaceChild(o,e),o.onload=function(){return t()}}else n()}))]}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.execScript=t.execScripts=t.isHidden=t.getDocumentFromIframe=t.createIframe=t.clearChildElements=void 0,t.clearChildElements=function(e){return e.innerHTML="",e},t.createIframe=function(){var e=document.createElement("iframe");return e.width="100%",e.height="0px",e.frameBorder="0",e.scrolling="no",e.marginHeight="0",e.marginWidth="0",e},t.getDocumentFromIframe=function(e){var t,n,r,o=null!==(r=null!==(t=e.contentDocument)&&void 0!==t?t:null===(n=null==e?void 0:e.contentWindow)||void 0===n?void 0:n.document)&&void 0!==r?r:null;return o?(o.open(),o.close(),o):null},t.isHidden=function(e){return null===e.offsetParent},t.execScripts=function(e){return n(this,void 0,void 0,(function(){var t,n,i;return r(this,(function(r){switch(r.label){case 0:t=e.getElementsByTagName("script"),n=0,r.label=1;case 1:return n<t.length?(i=t[n])?[4,o(i)]:[3,3]:[3,4];case 2:r.sent(),r.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.execScript=o},462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObserver=void 0,t.createObserver=function(e){return new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&e(t,n)}))}),{rootMargin:"0px",threshold:0})}},433:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchClient=void 0,t.fetchClient=function(e,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){return[2,fetch(e,t).catch((function(e){throw new Error(e)})).then((function(e){return function(e){if(e.ok)return e;switch(e.status){case 400:throw new Error("INVALID_TOKEN");case 401:throw new Error("UNAUTHORIZED");case 500:throw new Error("INTERNAL_SERVER_ERROR");case 502:throw new Error("BAD_GATEWAY");case 404:throw new Error("NOT_FOUND");default:throw new Error("UNHANDLED_ERROR")}}(e)})).then((function(e){return e.json()}))]}))}))}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(573)})()));